/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={559:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getFontEmbedCSS:()=>q,toBlob:()=>Y,toCanvas:()=>F,toJpeg:()=>W,toPixelData:()=>_,toPng:()=>$,toSvg:()=>A});var r=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))};const a="application/font-woff",o="image/jpeg",i={woff:a,woff2:a,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:o,jpeg:o,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"};function s(e){const t=function(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}(e).toLowerCase();return i[t]||""}function l(e){return-1!==e.search(/^(data:)/)}function c(e,t){return`data:${t};base64,${e}`}const d=function(){let e=0;return()=>(e+=1,`u${`0000${(Math.random()*Math.pow(36,4)<<0).toString(36)}`.slice(-4)}${e}`)}();function f(e){const t=[];for(let n=0,r=e.length;n<r;n+=1)t.push(e[n]);return t}function h(e,t){const n=window.getComputedStyle(e).getPropertyValue(t);return parseFloat(n.replace("px",""))}function u(e){return e.toBlob?new Promise((t=>e.toBlob(t))):new Promise((t=>{const n=window.atob(e.toDataURL().split(",")[1]),r=n.length,a=new Uint8Array(r);for(let e=0;e<r;e+=1)a[e]=n.charCodeAt(e);t(new Blob([a],{type:"image/png"}))}))}function p(e){return new Promise(((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="sync",r.src=e}))}const g={};function b(e,t){const n=function(e){let t=e.replace(/\?.*/,"");return/ttf|otf|eot|woff2?/i.test(t)&&(t=t.replace(/.*\//,"")),t}(e);if(null!=g[n])return g[n];t.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());const r=window.fetch(e).then((e=>e.blob().then((t=>({blob:t,contentType:e.headers.get("Content-Type")||""}))))).then((({blob:e,contentType:t})=>new Promise(((n,r)=>{const a=new FileReader;a.onloadend=()=>n({contentType:t,blob:a.result}),a.onerror=r,a.readAsDataURL(e)})))).then((({blob:e,contentType:t})=>{return{contentType:t,blob:(n=e,n.split(/,/)[1])};var n})).catch((n=>{let r="";if(t.imagePlaceholder){const e=t.imagePlaceholder.split(/,/);e&&e[1]&&(r=e[1])}let a=`Failed to fetch resource: ${e}`;return n&&(a="string"==typeof n?n:n.message),a&&console.error(a),{blob:r,contentType:""}}));return g[n]=r,r}function v(e,t,n){const r=window.getComputedStyle(e,n),a=r.getPropertyValue("content");if(""===a||"none"===a)return;const o=d();try{t.className=`${t.className} ${o}`}catch(e){return}const i=document.createElement("style");i.appendChild(function(e,t,n){const r=`.${e}:${t}`,a=n.cssText?function(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}(n):function(e){return f(e).map((t=>`${t}: ${e.getPropertyValue(t)}${e.getPropertyPriority(t)?" !important":""};`)).join(" ")}(n);return document.createTextNode(`${r}{${a}}`)}(o,n,r)),t.appendChild(i)}var m=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))};function y(e,t,n){return m(this,void 0,void 0,(function*(){return n||!t.filter||t.filter(e)?Promise.resolve(e).then((e=>function(e,t){return m(this,void 0,void 0,(function*(){return e instanceof HTMLCanvasElement?function(e){return m(this,void 0,void 0,(function*(){const t=e.toDataURL();return"data:,"===t?Promise.resolve(e.cloneNode(!1)):p(t)}))}(e):e instanceof HTMLVideoElement&&e.poster?function(e,t){return m(this,void 0,void 0,(function*(){return Promise.resolve(e.poster).then((e=>b(e,t))).then((t=>c(t.blob,s(e.poster)||t.contentType))).then((e=>p(e)))}))}(e,t):Promise.resolve(e.cloneNode(!1))}))}(e,t))).then((n=>function(e,t,n){var r;return m(this,void 0,void 0,(function*(){const a=null!=(o=e).tagName&&"SLOT"===o.tagName.toUpperCase()&&e.assignedNodes?f(e.assignedNodes()):f((null!==(r=e.shadowRoot)&&void 0!==r?r:e).childNodes);var o;return 0===a.length||e instanceof HTMLVideoElement?Promise.resolve(t):a.reduce(((e,r)=>e.then((()=>y(r,n))).then((e=>{e&&t.appendChild(e)}))),Promise.resolve()).then((()=>t))}))}(e,n,t))).then((t=>function(e,t){return m(this,void 0,void 0,(function*(){return t instanceof Element?Promise.resolve().then((()=>function(e,t){const n=window.getComputedStyle(e),r=t.style;r&&(n.cssText?r.cssText=n.cssText:f(n).forEach((e=>{r.setProperty(e,n.getPropertyValue(e),n.getPropertyPriority(e))})))}(e,t))).then((()=>function(e,t){v(e,t,":before"),v(e,t,":after")}(e,t))).then((()=>function(e,t){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}(e,t))).then((()=>t)):Promise.resolve(t)}))}(e,t))):Promise.resolve(null)}))}const w=/url\((['"]?)([^'"]+?)\1\)/g,x=/url\([^)]+\)\s*format\((["'])([^"']+)\1\)/g,k=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function C(e){const t=[];return e.replace(w,((e,n,r)=>(t.push(r),e))),t.filter((e=>!l(e)))}function L(e){return-1!==e.search(w)}function S(e,t,n){return r=this,a=void 0,i=function*(){if(!L(e))return Promise.resolve(e);const r=function(e,{preferredFontFormat:t}){return t?e.replace(k,(e=>{for(;;){const[n,,r]=x.exec(e)||[];if(!r)return"";if(r===t)return`src: ${n};`}})):e}(e,n);return Promise.resolve(r).then(C).then((e=>e.reduce(((e,r)=>e.then((e=>function(e,t,n,r,a){const o=n?function(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),a=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(a),t&&(r.href=t),a.href=e,a.href}(t,n):t;return Promise.resolve(o).then((e=>a?a(e):b(e,r))).then((e=>"string"==typeof e?c(e,s(t)):c(e.blob,s(t)||e.contentType))).then((n=>e.replace(function(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}(t),`$1${n}$3`))).then((e=>e),(()=>o))}(e,r,t,n)))),Promise.resolve(r))))},new((o=void 0)||(o=Promise))((function(e,t){function n(e){try{l(i.next(e))}catch(e){t(e)}}function s(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(n,s)}l((i=i.apply(r,a||[])).next())}));var r,a,o,i}var P=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))};function B(e,t){return P(this,void 0,void 0,(function*(){return e instanceof Element?Promise.resolve(e).then((e=>function(e,t){var n;return P(this,void 0,void 0,(function*(){const r=null===(n=e.style)||void 0===n?void 0:n.getPropertyValue("background");return r?Promise.resolve(r).then((e=>S(e,null,t))).then((t=>(e.style.setProperty("background",t,e.style.getPropertyPriority("background")),e))):Promise.resolve(e)}))}(e,t))).then((e=>function(e,t){return P(this,void 0,void 0,(function*(){if((!(e instanceof HTMLImageElement)||l(e.src))&&(!(e instanceof SVGImageElement)||l(e.href.baseVal)))return Promise.resolve(e);const n=e instanceof HTMLImageElement?e.src:e.href.baseVal;return Promise.resolve(n).then((e=>b(e,t))).then((e=>c(e.blob,s(n)||e.contentType))).then((t=>new Promise(((n,r)=>{e.onload=n,e.onerror=r,e instanceof HTMLImageElement?(e.srcset="",e.src=t):e.href.baseVal=t})))).then((()=>e),(()=>e))}))}(e,t))).then((e=>function(e,t){return P(this,void 0,void 0,(function*(){const n=f(e.childNodes).map((e=>B(e,t)));return Promise.all(n).then((()=>e))}))}(e,t))):Promise.resolve(e)}))}var N=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))};const M={};function I(e){const t=M[e];if(null!=t)return t;const n=window.fetch(e).then((t=>({url:e,cssText:t.text()})));return M[e]=n,n}function T(e){return N(this,void 0,void 0,(function*(){return e.cssText.then((t=>{let n=t;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map((t=>{let a=t.replace(r,"$1");return a.startsWith("https://")||(a=new URL(a,e.url).href),window.fetch(a).then((e=>e.blob())).then((e=>new Promise(((r,a)=>{const o=new FileReader;o.onloadend=()=>{n=n.replace(t,`url(${o.result})`),r([t,o.result])},o.onerror=a,o.readAsDataURL(e)}))))}));return Promise.all(a).then((()=>n))}))}))}function E(e){if(null==e)return[];const t=[];let n=e.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const e=r.exec(n);if(null===e)break;t.push(e[0])}n=n.replace(r,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let e=a.exec(n);if(null===e){if(e=o.exec(n),null===e)break;a.lastIndex=o.lastIndex}else o.lastIndex=a.lastIndex;t.push(e[0])}return t}function O(e){return e.filter((e=>e.type===CSSRule.FONT_FACE_RULE)).filter((e=>L(e.style.getPropertyValue("src"))))}function D(e,t){return N(this,void 0,void 0,(function*(){return function(e){return N(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{null==e.ownerDocument&&n(new Error("Provided element is not within a Document")),t(f(e.ownerDocument.styleSheets))})).then((e=>function(e){return N(this,void 0,void 0,(function*(){const t=[],n=[];return e.forEach((t=>{if("cssRules"in t)try{f(t.cssRules).forEach(((e,r)=>{if(e.type===CSSRule.IMPORT_RULE){let a=r+1;const o=I(e.href).then((e=>e?T(e):"")).then((e=>E(e).forEach((e=>{try{t.insertRule(e,e.startsWith("@import")?a+=1:t.cssRules.length)}catch(t){console.error("Error inserting rule from remote css",{rule:e,error:t})}})))).catch((e=>{console.error("Error loading remote css",e.toString())}));n.push(o)}}))}catch(r){const a=e.find((e=>null==e.href))||document.styleSheets[0];null!=t.href&&n.push(I(t.href).then((e=>e?T(e):"")).then((e=>E(e).forEach((e=>{a.insertRule(e,t.cssRules.length)})))).catch((e=>{console.error("Error loading remote stylesheet",e.toString())}))),console.error("Error inlining remote css file",r.toString())}})),Promise.all(n).then((()=>(e.forEach((e=>{if("cssRules"in e)try{f(e.cssRules).forEach((e=>{t.push(e)}))}catch(t){console.error(`Error while reading CSS rules from ${e.href}`,t.toString())}})),t)))}))}(e))).then(O)}))}(e).then((e=>Promise.all(e.map((e=>{const n=e.parentStyleSheet?e.parentStyleSheet.href:null;return S(e.cssText,n,t)}))))).then((e=>e.join("\n")))}))}var j=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))};function H(e,t={}){const n=t.width||function(e){const t=h(e,"border-left-width"),n=h(e,"border-right-width");return e.clientWidth+t+n}(e),r=t.height||function(e){const t=h(e,"border-top-width"),n=h(e,"border-bottom-width");return e.clientHeight+t+n}(e);return{width:n,height:r}}function A(e,t={}){return j(this,void 0,void 0,(function*(){const{width:n,height:a}=H(e,t);return Promise.resolve(e).then((e=>y(e,t,!0))).then((e=>function(e,t){return N(this,void 0,void 0,(function*(){return(null!=t.fontEmbedCSS?Promise.resolve(t.fontEmbedCSS):D(e,t)).then((t=>{const n=document.createElement("style"),r=document.createTextNode(t);return n.appendChild(r),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),e}))}))}(e,t))).then((e=>B(e,t))).then((e=>function(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return null!=r&&Object.keys(r).forEach((e=>{n[e]=r[e]})),e}(e,t))).then((e=>function(e,t,n){return r(this,void 0,void 0,(function*(){const a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),i=document.createElementNS(a,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),o.appendChild(i),i.appendChild(e),function(e){return r(this,void 0,void 0,(function*(){return Promise.resolve().then((()=>(new XMLSerializer).serializeToString(e))).then(encodeURIComponent).then((e=>`data:image/svg+xml;charset=utf-8,${e}`))}))}(o)}))}(e,n,a)))}))}const R=16384;function F(e,t={}){return j(this,void 0,void 0,(function*(){return A(e,t).then(p).then((n=>{const r=document.createElement("canvas"),a=r.getContext("2d"),o=t.pixelRatio||function(){let e,t;try{t=process}catch(e){}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}(),{width:i,height:s}=H(e,t),l=t.canvasWidth||i,c=t.canvasHeight||s;return r.width=l*o,r.height=c*o,t.skipAutoScale||function(e){(e.width>R||e.height>R)&&(e.width>R&&e.height>R?e.width>e.height?(e.height*=R/e.width,e.width=R):(e.width*=R/e.height,e.height=R):e.width>R?(e.height*=R/e.width,e.width=R):(e.width*=R/e.height,e.height=R))}(r),r.style.width=`${l}`,r.style.height=`${c}`,t.backgroundColor&&(a.fillStyle=t.backgroundColor,a.fillRect(0,0,r.width,r.height)),a.drawImage(n,0,0,r.width,r.height),r}))}))}function _(e,t={}){return j(this,void 0,void 0,(function*(){const{width:n,height:r}=H(e,t);return F(e,t).then((e=>e.getContext("2d").getImageData(0,0,n,r).data))}))}function $(e,t={}){return j(this,void 0,void 0,(function*(){return F(e,t).then((e=>e.toDataURL()))}))}function W(e,t={}){return j(this,void 0,void 0,(function*(){return F(e,t).then((e=>e.toDataURL("image/jpeg",t.quality||1)))}))}function Y(e,t={}){return j(this,void 0,void 0,(function*(){return F(e,t).then(u)}))}function q(e,t={}){return j(this,void 0,void 0,(function*(){return D(e,t)}))}},670:function(e){e.exports=function(){"use strict";for(var e=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e<t?t:e>n?n:e},t=e,n={},r=0,a=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];r<a.length;r+=1){var o=a[r];n["[object "+o+"]"]=o.toLowerCase()}var i=function(e){return n[Object.prototype.toString.call(e)]||"object"},s=i,l=i,c=Math.PI,d={clip_rgb:function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var n=0;n<=3;n++)n<3?((e[n]<0||e[n]>255)&&(e._clipped=!0),e[n]=t(e[n],0,255)):3===n&&(e[n]=t(e[n],0,1));return e},limit:e,type:i,unpack:function(e,t){return void 0===t&&(t=null),e.length>=3?Array.prototype.slice.call(e):"object"==s(e[0])&&t?t.split("").filter((function(t){return void 0!==e[0][t]})).map((function(t){return e[0][t]})):e[0]},last:function(e){if(e.length<2)return null;var t=e.length-1;return"string"==l(e[t])?e[t].toLowerCase():null},PI:c,TWOPI:2*c,PITHIRD:c/3,DEG2RAD:c/180,RAD2DEG:180/c},f={format:{},autodetect:[]},h=d.last,u=d.clip_rgb,p=d.type,g=f,b=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=this;if("object"===p(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var r=h(e),a=!1;if(!r){a=!0,g.sorted||(g.autodetect=g.autodetect.sort((function(e,t){return t.p-e.p})),g.sorted=!0);for(var o=0,i=g.autodetect;o<i.length;o+=1){var s=i[o];if(r=s.test.apply(s,e))break}}if(!g.format[r])throw new Error("unknown format: "+e);var l=g.format[r].apply(null,a?e:e.slice(0,-1));n._rgb=u(l),3===n._rgb.length&&n._rgb.push(1)};b.prototype.toString=function(){return"function"==p(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var v=b,m=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(m.Color,[null].concat(e)))};m.Color=v,m.version="2.4.2";var y=m,w=d.unpack,x=Math.max,k=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=w(e,"rgb"),r=n[0],a=n[1],o=n[2],i=1-x(r/=255,x(a/=255,o/=255)),s=i<1?1/(1-i):0;return[(1-r-i)*s,(1-a-i)*s,(1-o-i)*s,i]},C=d.unpack,L=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=C(e,"cmyk"))[0],r=e[1],a=e[2],o=e[3],i=e.length>4?e[4]:1;return 1===o?[0,0,0,i]:[n>=1?0:255*(1-n)*(1-o),r>=1?0:255*(1-r)*(1-o),a>=1?0:255*(1-a)*(1-o),i]},S=y,P=v,B=f,N=d.unpack,M=d.type,I=k;P.prototype.cmyk=function(){return I(this._rgb)},S.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(P,[null].concat(e,["cmyk"])))},B.format.cmyk=L,B.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=N(e,"cmyk"),"array"===M(e)&&4===e.length)return"cmyk"}});var T=d.unpack,E=d.last,O=function(e){return Math.round(100*e)/100},D=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=T(e,"hsla"),r=E(e)||"lsa";return n[0]=O(n[0]||0),n[1]=O(100*n[1])+"%",n[2]=O(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},j=d.unpack,H=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=j(e,"rgba"))[0],r=e[1],a=e[2];n/=255,r/=255,a/=255;var o,i,s=Math.min(n,r,a),l=Math.max(n,r,a),c=(l+s)/2;return l===s?(o=0,i=Number.NaN):o=c<.5?(l-s)/(l+s):(l-s)/(2-l-s),n==l?i=(r-a)/(l-s):r==l?i=2+(a-n)/(l-s):a==l&&(i=4+(n-r)/(l-s)),(i*=60)<0&&(i+=360),e.length>3&&void 0!==e[3]?[i,o,c,e[3]]:[i,o,c]},A=d.unpack,R=d.last,F=D,_=H,$=Math.round,W=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=A(e,"rgba"),r=R(e)||"rgb";return"hsl"==r.substr(0,3)?F(_(n),r):(n[0]=$(n[0]),n[1]=$(n[1]),n[2]=$(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")},Y=d.unpack,q=Math.round,z=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];var r,a,o,i=(t=Y(t,"hsl"))[0],s=t[1],l=t[2];if(0===s)r=a=o=255*l;else{var c=[0,0,0],d=[0,0,0],f=l<.5?l*(1+s):l+s-l*s,h=2*l-f,u=i/360;c[0]=u+1/3,c[1]=u,c[2]=u-1/3;for(var p=0;p<3;p++)c[p]<0&&(c[p]+=1),c[p]>1&&(c[p]-=1),6*c[p]<1?d[p]=h+6*(f-h)*c[p]:2*c[p]<1?d[p]=f:3*c[p]<2?d[p]=h+(f-h)*(2/3-c[p])*6:d[p]=h;r=(e=[q(255*d[0]),q(255*d[1]),q(255*d[2])])[0],a=e[1],o=e[2]}return t.length>3?[r,a,o,t[3]]:[r,a,o,1]},V=z,X=f,U=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,K=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,G=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,J=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Z=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Q=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ee=Math.round,te=function(e){var t;if(e=e.toLowerCase().trim(),X.format.named)try{return X.format.named(e)}catch(e){}if(t=e.match(U)){for(var n=t.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(t=e.match(K)){for(var a=t.slice(1,5),o=0;o<4;o++)a[o]=+a[o];return a}if(t=e.match(G)){for(var i=t.slice(1,4),s=0;s<3;s++)i[s]=ee(2.55*i[s]);return i[3]=1,i}if(t=e.match(J)){for(var l=t.slice(1,5),c=0;c<3;c++)l[c]=ee(2.55*l[c]);return l[3]=+l[3],l}if(t=e.match(Z)){var d=t.slice(1,4);d[1]*=.01,d[2]*=.01;var f=V(d);return f[3]=1,f}if(t=e.match(Q)){var h=t.slice(1,4);h[1]*=.01,h[2]*=.01;var u=V(h);return u[3]=+t[4],u}};te.test=function(e){return U.test(e)||K.test(e)||G.test(e)||J.test(e)||Z.test(e)||Q.test(e)};var ne=y,re=v,ae=f,oe=d.type,ie=W,se=te;re.prototype.css=function(e){return ie(this._rgb,e)},ne.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(re,[null].concat(e,["css"])))},ae.format.css=se,ae.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===oe(e)&&se.test(e))return"css"}});var le=v,ce=y,de=d.unpack;f.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=de(e,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},ce.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(le,[null].concat(e,["gl"])))},le.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var fe=d.unpack,he=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r=fe(e,"rgb"),a=r[0],o=r[1],i=r[2],s=Math.min(a,o,i),l=Math.max(a,o,i),c=l-s,d=100*c/255,f=s/(255-c)*100;return 0===c?n=Number.NaN:(a===l&&(n=(o-i)/c),o===l&&(n=2+(i-a)/c),i===l&&(n=4+(a-o)/c),(n*=60)<0&&(n+=360)),[n,d,f]},ue=d.unpack,pe=Math.floor,ge=function(){for(var e,t,n,r,a,o,i=[],s=arguments.length;s--;)i[s]=arguments[s];var l,c,d,f=(i=ue(i,"hcg"))[0],h=i[1],u=i[2];u*=255;var p=255*h;if(0===h)l=c=d=u;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var g=pe(f/=60),b=f-g,v=u*(1-h),m=v+p*(1-b),y=v+p*b,w=v+p;switch(g){case 0:l=(e=[w,y,v])[0],c=e[1],d=e[2];break;case 1:l=(t=[m,w,v])[0],c=t[1],d=t[2];break;case 2:l=(n=[v,w,y])[0],c=n[1],d=n[2];break;case 3:l=(r=[v,m,w])[0],c=r[1],d=r[2];break;case 4:l=(a=[y,v,w])[0],c=a[1],d=a[2];break;case 5:l=(o=[w,v,m])[0],c=o[1],d=o[2]}}return[l,c,d,i.length>3?i[3]:1]},be=d.unpack,ve=d.type,me=y,ye=v,we=f,xe=he;ye.prototype.hcg=function(){return xe(this._rgb)},me.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ye,[null].concat(e,["hcg"])))},we.format.hcg=ge,we.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=be(e,"hcg"),"array"===ve(e)&&3===e.length)return"hcg"}});var ke=d.unpack,Ce=d.last,Le=Math.round,Se=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=ke(e,"rgba"),r=n[0],a=n[1],o=n[2],i=n[3],s=Ce(e)||"auto";void 0===i&&(i=1),"auto"===s&&(s=i<1?"rgba":"rgb");var l="000000"+((r=Le(r))<<16|(a=Le(a))<<8|(o=Le(o))).toString(16);l=l.substr(l.length-6);var c="0"+Le(255*i).toString(16);switch(c=c.substr(c.length-2),s.toLowerCase()){case"rgba":return"#"+l+c;case"argb":return"#"+c+l;default:return"#"+l}},Pe=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Be=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Ne=function(e){if(e.match(Pe)){4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(Be)){5!==e.length&&9!==e.length||(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var n=parseInt(e,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+e)},Me=y,Ie=v,Te=d.type,Ee=f,Oe=Se;Ie.prototype.hex=function(e){return Oe(this._rgb,e)},Me.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ie,[null].concat(e,["hex"])))},Ee.format.hex=Ne,Ee.autodetect.push({p:4,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===Te(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var De=d.unpack,je=d.TWOPI,He=Math.min,Ae=Math.sqrt,Re=Math.acos,Fe=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r=De(e,"rgb"),a=r[0],o=r[1],i=r[2],s=He(a/=255,o/=255,i/=255),l=(a+o+i)/3,c=l>0?1-s/l:0;return 0===c?n=NaN:(n=(a-o+(a-i))/2,n/=Ae((a-o)*(a-o)+(a-i)*(o-i)),n=Re(n),i>o&&(n=je-n),n/=je),[360*n,c,l]},_e=d.unpack,$e=d.limit,We=d.TWOPI,Ye=d.PITHIRD,qe=Math.cos,ze=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,a,o=(e=_e(e,"hsi"))[0],i=e[1],s=e[2];return isNaN(o)&&(o=0),isNaN(i)&&(i=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?r=1-((a=(1-i)/3)+(n=(1+i*qe(We*o)/qe(Ye-We*o))/3)):o<2/3?a=1-((n=(1-i)/3)+(r=(1+i*qe(We*(o-=1/3))/qe(Ye-We*o))/3)):n=1-((r=(1-i)/3)+(a=(1+i*qe(We*(o-=2/3))/qe(Ye-We*o))/3)),[255*(n=$e(s*n*3)),255*(r=$e(s*r*3)),255*(a=$e(s*a*3)),e.length>3?e[3]:1]},Ve=d.unpack,Xe=d.type,Ue=y,Ke=v,Ge=f,Je=Fe;Ke.prototype.hsi=function(){return Je(this._rgb)},Ue.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ke,[null].concat(e,["hsi"])))},Ge.format.hsi=ze,Ge.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ve(e,"hsi"),"array"===Xe(e)&&3===e.length)return"hsi"}});var Ze=d.unpack,Qe=d.type,et=y,tt=v,nt=f,rt=H;tt.prototype.hsl=function(){return rt(this._rgb)},et.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(tt,[null].concat(e,["hsl"])))},nt.format.hsl=z,nt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ze(e,"hsl"),"array"===Qe(e)&&3===e.length)return"hsl"}});var at=d.unpack,ot=Math.min,it=Math.max,st=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,a,o=(e=at(e,"rgb"))[0],i=e[1],s=e[2],l=ot(o,i,s),c=it(o,i,s),d=c-l;return a=c/255,0===c?(n=Number.NaN,r=0):(r=d/c,o===c&&(n=(i-s)/d),i===c&&(n=2+(s-o)/d),s===c&&(n=4+(o-i)/d),(n*=60)<0&&(n+=360)),[n,r,a]},lt=d.unpack,ct=Math.floor,dt=function(){for(var e,t,n,r,a,o,i=[],s=arguments.length;s--;)i[s]=arguments[s];var l,c,d,f=(i=lt(i,"hsv"))[0],h=i[1],u=i[2];if(u*=255,0===h)l=c=d=u;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var p=ct(f/=60),g=f-p,b=u*(1-h),v=u*(1-h*g),m=u*(1-h*(1-g));switch(p){case 0:l=(e=[u,m,b])[0],c=e[1],d=e[2];break;case 1:l=(t=[v,u,b])[0],c=t[1],d=t[2];break;case 2:l=(n=[b,u,m])[0],c=n[1],d=n[2];break;case 3:l=(r=[b,v,u])[0],c=r[1],d=r[2];break;case 4:l=(a=[m,b,u])[0],c=a[1],d=a[2];break;case 5:l=(o=[u,b,v])[0],c=o[1],d=o[2]}}return[l,c,d,i.length>3?i[3]:1]},ft=d.unpack,ht=d.type,ut=y,pt=v,gt=f,bt=st;pt.prototype.hsv=function(){return bt(this._rgb)},ut.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(pt,[null].concat(e,["hsv"])))},gt.format.hsv=dt,gt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ft(e,"hsv"),"array"===ht(e)&&3===e.length)return"hsv"}});var vt={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},mt=vt,yt=d.unpack,wt=Math.pow,xt=function(e){return(e/=255)<=.04045?e/12.92:wt((e+.055)/1.055,2.4)},kt=function(e){return e>mt.t3?wt(e,1/3):e/mt.t2+mt.t0},Ct=function(e,t,n){return e=xt(e),t=xt(t),n=xt(n),[kt((.4124564*e+.3575761*t+.1804375*n)/mt.Xn),kt((.2126729*e+.7151522*t+.072175*n)/mt.Yn),kt((.0193339*e+.119192*t+.9503041*n)/mt.Zn)]},Lt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=yt(e,"rgb"),r=n[0],a=n[1],o=n[2],i=Ct(r,a,o),s=i[0],l=i[1],c=116*l-16;return[c<0?0:c,500*(s-l),200*(l-i[2])]},St=vt,Pt=d.unpack,Bt=Math.pow,Nt=function(e){return 255*(e<=.00304?12.92*e:1.055*Bt(e,1/2.4)-.055)},Mt=function(e){return e>St.t1?e*e*e:St.t2*(e-St.t0)},It=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,a,o=(e=Pt(e,"lab"))[0],i=e[1],s=e[2];return r=(o+16)/116,n=isNaN(i)?r:r+i/500,a=isNaN(s)?r:r-s/200,r=St.Yn*Mt(r),n=St.Xn*Mt(n),a=St.Zn*Mt(a),[Nt(3.2404542*n-1.5371385*r-.4985314*a),Nt(-.969266*n+1.8760108*r+.041556*a),Nt(.0556434*n-.2040259*r+1.0572252*a),e.length>3?e[3]:1]},Tt=d.unpack,Et=d.type,Ot=y,Dt=v,jt=f,Ht=Lt;Dt.prototype.lab=function(){return Ht(this._rgb)},Ot.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Dt,[null].concat(e,["lab"])))},jt.format.lab=It,jt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Tt(e,"lab"),"array"===Et(e)&&3===e.length)return"lab"}});var At=d.unpack,Rt=d.RAD2DEG,Ft=Math.sqrt,_t=Math.atan2,$t=Math.round,Wt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=At(e,"lab"),r=n[0],a=n[1],o=n[2],i=Ft(a*a+o*o),s=(_t(o,a)*Rt+360)%360;return 0===$t(1e4*i)&&(s=Number.NaN),[r,i,s]},Yt=d.unpack,qt=Lt,zt=Wt,Vt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Yt(e,"rgb"),r=n[0],a=n[1],o=n[2],i=qt(r,a,o),s=i[0],l=i[1],c=i[2];return zt(s,l,c)},Xt=d.unpack,Ut=d.DEG2RAD,Kt=Math.sin,Gt=Math.cos,Jt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Xt(e,"lch"),r=n[0],a=n[1],o=n[2];return isNaN(o)&&(o=0),[r,Gt(o*=Ut)*a,Kt(o)*a]},Zt=d.unpack,Qt=Jt,en=It,tn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=Zt(e,"lch"))[0],r=e[1],a=e[2],o=Qt(n,r,a),i=o[0],s=o[1],l=o[2],c=en(i,s,l);return[c[0],c[1],c[2],e.length>3?e[3]:1]},nn=d.unpack,rn=tn,an=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=nn(e,"hcl").reverse();return rn.apply(void 0,n)},on=d.unpack,sn=d.type,ln=y,cn=v,dn=f,fn=Vt;cn.prototype.lch=function(){return fn(this._rgb)},cn.prototype.hcl=function(){return fn(this._rgb).reverse()},ln.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(cn,[null].concat(e,["lch"])))},ln.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(cn,[null].concat(e,["hcl"])))},dn.format.lch=tn,dn.format.hcl=an,["lch","hcl"].forEach((function(e){return dn.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=on(t,e),"array"===sn(t)&&3===t.length)return e}})}));var hn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},un=f,pn=d.type,gn=hn,bn=Ne,vn=Se;v.prototype.name=function(){for(var e=vn(this._rgb,"rgb"),t=0,n=Object.keys(gn);t<n.length;t+=1){var r=n[t];if(gn[r]===e)return r.toLowerCase()}return e},un.format.named=function(e){if(e=e.toLowerCase(),gn[e])return bn(gn[e]);throw new Error("unknown color name: "+e)},un.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===pn(e)&&gn[e.toLowerCase()])return"named"}});var mn=d.unpack,yn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=mn(e,"rgb");return(n[0]<<16)+(n[1]<<8)+n[2]},wn=d.type,xn=function(e){if("number"==wn(e)&&e>=0&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw new Error("unknown num color: "+e)},kn=y,Cn=v,Ln=f,Sn=d.type,Pn=yn;Cn.prototype.num=function(){return Pn(this._rgb)},kn.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Cn,[null].concat(e,["num"])))},Ln.format.num=xn,Ln.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===Sn(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var Bn=y,Nn=v,Mn=f,In=d.unpack,Tn=d.type,En=Math.round;Nn.prototype.rgb=function(e){return void 0===e&&(e=!0),!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(En)},Nn.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map((function(t,n){return n<3?!1===e?t:En(t):t}))},Bn.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Nn,[null].concat(e,["rgb"])))},Mn.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=In(e,"rgba");return void 0===n[3]&&(n[3]=1),n},Mn.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=In(e,"rgba"),"array"===Tn(e)&&(3===e.length||4===e.length&&"number"==Tn(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var On=Math.log,Dn=function(e){var t,n,r,a=e/100;return a<66?(t=255,n=a<6?0:-155.25485562709179-.44596950469579133*(n=a-2)+104.49216199393888*On(n),r=a<20?0:.8274096064007395*(r=a-10)-254.76935184120902+115.67994401066147*On(r)):(t=351.97690566805693+.114206453784165*(t=a-55)-40.25366309332127*On(t),n=325.4494125711974+.07943456536662342*(n=a-50)-28.0852963507957*On(n),r=255),[t,n,r,1]},jn=Dn,Hn=d.unpack,An=Math.round,Rn=y,Fn=v,_n=f,$n=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n,r=Hn(e,"rgb"),a=r[0],o=r[2],i=1e3,s=4e4,l=.4;s-i>l;){var c=jn(n=.5*(s+i));c[2]/c[0]>=o/a?s=n:i=n}return An(n)};Fn.prototype.temp=Fn.prototype.kelvin=Fn.prototype.temperature=function(){return $n(this._rgb)},Rn.temp=Rn.kelvin=Rn.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Fn,[null].concat(e,["temp"])))},_n.format.temp=_n.format.kelvin=_n.format.temperature=Dn;var Wn=d.unpack,Yn=Math.cbrt,qn=Math.pow,zn=Math.sign,Vn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Wn(e,"rgb"),r=n[0],a=n[1],o=n[2],i=[Xn(r/255),Xn(a/255),Xn(o/255)],s=i[0],l=i[1],c=i[2],d=Yn(.4122214708*s+.5363325363*l+.0514459929*c),f=Yn(.2119034982*s+.6806995451*l+.1073969566*c),h=Yn(.0883024619*s+.2817188376*l+.6299787005*c);return[.2104542553*d+.793617785*f-.0040720468*h,1.9779984951*d-2.428592205*f+.4505937099*h,.0259040371*d+.7827717662*f-.808675766*h]};function Xn(e){var t=Math.abs(e);return t<.04045?e/12.92:(zn(e)||1)*qn((t+.055)/1.055,2.4)}var Un=d.unpack,Kn=Math.pow,Gn=Math.sign,Jn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=Un(e,"lab"))[0],r=e[1],a=e[2],o=Kn(n+.3963377774*r+.2158037573*a,3),i=Kn(n-.1055613458*r-.0638541728*a,3),s=Kn(n-.0894841775*r-1.291485548*a,3);return[255*Zn(4.0767416621*o-3.3077115913*i+.2309699292*s),255*Zn(-1.2684380046*o+2.6097574011*i-.3413193965*s),255*Zn(-.0041960863*o-.7034186147*i+1.707614701*s),e.length>3?e[3]:1]};function Zn(e){var t=Math.abs(e);return t>.0031308?(Gn(e)||1)*(1.055*Kn(t,1/2.4)-.055):12.92*e}var Qn=d.unpack,er=d.type,tr=y,nr=v,rr=f,ar=Vn;nr.prototype.oklab=function(){return ar(this._rgb)},tr.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(nr,[null].concat(e,["oklab"])))},rr.format.oklab=Jn,rr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Qn(e,"oklab"),"array"===er(e)&&3===e.length)return"oklab"}});var or=d.unpack,ir=Vn,sr=Wt,lr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=or(e,"rgb"),r=n[0],a=n[1],o=n[2],i=ir(r,a,o),s=i[0],l=i[1],c=i[2];return sr(s,l,c)},cr=d.unpack,dr=Jt,fr=Jn,hr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=cr(e,"lch"))[0],r=e[1],a=e[2],o=dr(n,r,a),i=o[0],s=o[1],l=o[2],c=fr(i,s,l);return[c[0],c[1],c[2],e.length>3?e[3]:1]},ur=d.unpack,pr=d.type,gr=y,br=v,vr=f,mr=lr;br.prototype.oklch=function(){return mr(this._rgb)},gr.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(br,[null].concat(e,["oklch"])))},vr.format.oklch=hr,vr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ur(e,"oklch"),"array"===pr(e)&&3===e.length)return"oklch"}});var yr=v,wr=d.type;yr.prototype.alpha=function(e,t){return void 0===t&&(t=!1),void 0!==e&&"number"===wr(e)?t?(this._rgb[3]=e,this):new yr([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},v.prototype.clipped=function(){return this._rgb._clipped||!1};var xr=v,kr=vt;xr.prototype.darken=function(e){void 0===e&&(e=1);var t=this.lab();return t[0]-=kr.Kn*e,new xr(t,"lab").alpha(this.alpha(),!0)},xr.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},xr.prototype.darker=xr.prototype.darken,xr.prototype.brighter=xr.prototype.brighten,v.prototype.get=function(e){var t=e.split("."),n=t[0],r=t[1],a=this[n]();if(r){var o=n.indexOf(r)-("ok"===n.substr(0,2)?2:0);if(o>-1)return a[o];throw new Error("unknown channel "+r+" in mode "+n)}return a};var Cr=v,Lr=d.type,Sr=Math.pow;Cr.prototype.luminance=function(e){if(void 0!==e&&"number"===Lr(e)){if(0===e)return new Cr([0,0,0,this._rgb[3]],"rgb");if(1===e)return new Cr([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),n=20,r=function(t,a){var o=t.interpolate(a,.5,"rgb"),i=o.luminance();return Math.abs(e-i)<1e-7||!n--?o:i>e?r(t,o):r(o,a)},a=(t>e?r(new Cr([0,0,0]),this):r(this,new Cr([255,255,255]))).rgb();return new Cr(a.concat([this._rgb[3]]))}return Pr.apply(void 0,this._rgb.slice(0,3))};var Pr=function(e,t,n){return.2126*(e=Br(e))+.7152*(t=Br(t))+.0722*Br(n)},Br=function(e){return(e/=255)<=.03928?e/12.92:Sr((e+.055)/1.055,2.4)},Nr={},Mr=v,Ir=d.type,Tr=Nr,Er=function(e,t,n){void 0===n&&(n=.5);for(var r=[],a=arguments.length-3;a-- >0;)r[a]=arguments[a+3];var o=r[0]||"lrgb";if(Tr[o]||r.length||(o=Object.keys(Tr)[0]),!Tr[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==Ir(e)&&(e=new Mr(e)),"object"!==Ir(t)&&(t=new Mr(t)),Tr[o](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))},Or=v,Dr=Er;Or.prototype.mix=Or.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return Dr.apply(void 0,[this,e,t].concat(n))};var jr=v;jr.prototype.premultiply=function(e){void 0===e&&(e=!1);var t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new jr([t[0]*n,t[1]*n,t[2]*n,n],"rgb")};var Hr=v,Ar=vt;Hr.prototype.saturate=function(e){void 0===e&&(e=1);var t=this.lch();return t[1]+=Ar.Kn*e,t[1]<0&&(t[1]=0),new Hr(t,"lch").alpha(this.alpha(),!0)},Hr.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)};var Rr=v,Fr=d.type;Rr.prototype.set=function(e,t,n){void 0===n&&(n=!1);var r=e.split("."),a=r[0],o=r[1],i=this[a]();if(o){var s=a.indexOf(o)-("ok"===a.substr(0,2)?2:0);if(s>-1){if("string"==Fr(t))switch(t.charAt(0)){case"+":case"-":i[s]+=+t;break;case"*":i[s]*=+t.substr(1);break;case"/":i[s]/=+t.substr(1);break;default:i[s]=+t}else{if("number"!==Fr(t))throw new Error("unsupported value for Color.set");i[s]=t}var l=new Rr(i,a);return n?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+o+" in mode "+a)}return i};var _r=v;Nr.rgb=function(e,t,n){var r=e._rgb,a=t._rgb;return new _r(r[0]+n*(a[0]-r[0]),r[1]+n*(a[1]-r[1]),r[2]+n*(a[2]-r[2]),"rgb")};var $r=v,Wr=Math.sqrt,Yr=Math.pow;Nr.lrgb=function(e,t,n){var r=e._rgb,a=r[0],o=r[1],i=r[2],s=t._rgb,l=s[0],c=s[1],d=s[2];return new $r(Wr(Yr(a,2)*(1-n)+Yr(l,2)*n),Wr(Yr(o,2)*(1-n)+Yr(c,2)*n),Wr(Yr(i,2)*(1-n)+Yr(d,2)*n),"rgb")};var qr=v;Nr.lab=function(e,t,n){var r=e.lab(),a=t.lab();return new qr(r[0]+n*(a[0]-r[0]),r[1]+n*(a[1]-r[1]),r[2]+n*(a[2]-r[2]),"lab")};var zr=v,Vr=function(e,t,n,r){var a,o,i,s,l,c,d,f,h,u,p,g,b;return"hsl"===r?(i=e.hsl(),s=t.hsl()):"hsv"===r?(i=e.hsv(),s=t.hsv()):"hcg"===r?(i=e.hcg(),s=t.hcg()):"hsi"===r?(i=e.hsi(),s=t.hsi()):"lch"===r||"hcl"===r?(r="hcl",i=e.hcl(),s=t.hcl()):"oklch"===r&&(i=e.oklch().reverse(),s=t.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||(l=(a=i)[0],d=a[1],h=a[2],c=(o=s)[0],f=o[1],u=o[2]),isNaN(l)||isNaN(c)?isNaN(l)?isNaN(c)?g=Number.NaN:(g=c,1!=h&&0!=h||"hsv"==r||(p=f)):(g=l,1!=u&&0!=u||"hsv"==r||(p=d)):g=l+n*(c>l&&c-l>180?c-(l+360):c<l&&l-c>180?c+360-l:c-l),void 0===p&&(p=d+n*(f-d)),b=h+n*(u-h),new zr("oklch"===r?[b,p,g]:[g,p,b],r)},Xr=Vr,Ur=function(e,t,n){return Xr(e,t,n,"lch")};Nr.lch=Ur,Nr.hcl=Ur;var Kr=v;Nr.num=function(e,t,n){var r=e.num(),a=t.num();return new Kr(r+n*(a-r),"num")};var Gr=Vr;Nr.hcg=function(e,t,n){return Gr(e,t,n,"hcg")};var Jr=Vr;Nr.hsi=function(e,t,n){return Jr(e,t,n,"hsi")};var Zr=Vr;Nr.hsl=function(e,t,n){return Zr(e,t,n,"hsl")};var Qr=Vr;Nr.hsv=function(e,t,n){return Qr(e,t,n,"hsv")};var ea=v;Nr.oklab=function(e,t,n){var r=e.oklab(),a=t.oklab();return new ea(r[0]+n*(a[0]-r[0]),r[1]+n*(a[1]-r[1]),r[2]+n*(a[2]-r[2]),"oklab")};var ta=Vr;Nr.oklch=function(e,t,n){return ta(e,t,n,"oklch")};var na=v,ra=d.clip_rgb,aa=Math.pow,oa=Math.sqrt,ia=Math.PI,sa=Math.cos,la=Math.sin,ca=Math.atan2,da=function(e,t){for(var n=e.length,r=[0,0,0,0],a=0;a<e.length;a++){var o=e[a],i=t[a]/n,s=o._rgb;r[0]+=aa(s[0],2)*i,r[1]+=aa(s[1],2)*i,r[2]+=aa(s[2],2)*i,r[3]+=s[3]*i}return r[0]=oa(r[0]),r[1]=oa(r[1]),r[2]=oa(r[2]),r[3]>.9999999&&(r[3]=1),new na(ra(r))},fa=y,ha=d.type,ua=Math.pow,pa=function(e){var t="rgb",n=fa("#ccc"),r=0,a=[0,1],o=[],i=[0,0],s=!1,l=[],c=!1,d=0,f=1,h=!1,u={},p=!0,g=1,b=function(e){if((e=e||["#fff","#000"])&&"string"===ha(e)&&fa.brewer&&fa.brewer[e.toLowerCase()]&&(e=fa.brewer[e.toLowerCase()]),"array"===ha(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var t=0;t<e.length;t++)e[t]=fa(e[t]);o.length=0;for(var n=0;n<e.length;n++)o.push(n/(e.length-1))}return w(),l=e},v=function(e){return e},m=function(e){return e},y=function(e,r){var a,c;if(null==r&&(r=!1),isNaN(e)||null===e)return n;c=r?e:s&&s.length>2?function(e){if(null!=s){for(var t=s.length-1,n=0;n<t&&e>=s[n];)n++;return n-1}return 0}(e)/(s.length-2):f!==d?(e-d)/(f-d):1,c=m(c),r||(c=v(c)),1!==g&&(c=ua(c,g)),c=i[0]+c*(1-i[0]-i[1]),c=Math.min(1,Math.max(0,c));var h=Math.floor(1e4*c);if(p&&u[h])a=u[h];else{if("array"===ha(l))for(var b=0;b<o.length;b++){var y=o[b];if(c<=y){a=l[b];break}if(c>=y&&b===o.length-1){a=l[b];break}if(c>y&&c<o[b+1]){c=(c-y)/(o[b+1]-y),a=fa.interpolate(l[b],l[b+1],c,t);break}}else"function"===ha(l)&&(a=l(c));p&&(u[h]=a)}return a},w=function(){return u={}};b(e);var x=function(e){var t=fa(y(e));return c&&t[c]?t[c]():t};return x.classes=function(e){if(null!=e){if("array"===ha(e))s=e,a=[e[0],e[e.length-1]];else{var t=fa.analyze(a);s=0===e?[t.min,t.max]:fa.limits(t,"e",e)}return x}return s},x.domain=function(e){if(!arguments.length)return a;d=e[0],f=e[e.length-1],o=[];var t=l.length;if(e.length===t&&d!==f)for(var n=0,r=Array.from(e);n<r.length;n+=1){var i=r[n];o.push((i-d)/(f-d))}else{for(var s=0;s<t;s++)o.push(s/(t-1));if(e.length>2){var c=e.map((function(t,n){return n/(e.length-1)})),h=e.map((function(e){return(e-d)/(f-d)}));h.every((function(e,t){return c[t]===e}))||(m=function(e){if(e<=0||e>=1)return e;for(var t=0;e>=h[t+1];)t++;var n=(e-h[t])/(h[t+1]-h[t]);return c[t]+n*(c[t+1]-c[t])})}}return a=[d,f],x},x.mode=function(e){return arguments.length?(t=e,w(),x):t},x.range=function(e,t){return b(e),x},x.out=function(e){return c=e,x},x.spread=function(e){return arguments.length?(r=e,x):r},x.correctLightness=function(e){return null==e&&(e=!0),h=e,w(),v=h?function(e){for(var t=y(0,!0).lab()[0],n=y(1,!0).lab()[0],r=t>n,a=y(e,!0).lab()[0],o=t+(n-t)*e,i=a-o,s=0,l=1,c=20;Math.abs(i)>.01&&c-- >0;)r&&(i*=-1),i<0?(s=e,e+=.5*(l-e)):(l=e,e+=.5*(s-e)),i=(a=y(e,!0).lab()[0])-o;return e}:function(e){return e},x},x.padding=function(e){return null!=e?("number"===ha(e)&&(e=[e,e]),i=e,x):i},x.colors=function(t,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=l.slice(0);else if(1===t)r=[x(.5)];else if(t>1){var o=a[0],i=a[1]-o;r=ga(0,t,!1).map((function(e){return x(o+e/(t-1)*i)}))}else{e=[];var c=[];if(s&&s.length>2)for(var d=1,f=s.length,h=1<=f;h?d<f:d>f;h?d++:d--)c.push(.5*(s[d-1]+s[d]));else c=a;r=c.map((function(e){return x(e)}))}return fa[n]&&(r=r.map((function(e){return e[n]()}))),r},x.cache=function(e){return null!=e?(p=e,x):p},x.gamma=function(e){return null!=e?(g=e,x):g},x.nodata=function(e){return null!=e?(n=fa(e),x):n},x};function ga(e,t,n){for(var r=[],a=e<t,o=n?a?t+1:t-1:t,i=e;a?i<o:i>o;a?i++:i--)r.push(i);return r}var ba=v,va=pa,ma=y,ya=function(e,t,n){if(!ya[n])throw new Error("unknown blend mode "+n);return ya[n](e,t)},wa=function(e){return function(t,n){var r=ma(n).rgb(),a=ma(t).rgb();return ma.rgb(e(r,a))}},xa=function(e){return function(t,n){var r=[];return r[0]=e(t[0],n[0]),r[1]=e(t[1],n[1]),r[2]=e(t[2],n[2]),r}};ya.normal=wa(xa((function(e){return e}))),ya.multiply=wa(xa((function(e,t){return e*t/255}))),ya.screen=wa(xa((function(e,t){return 255*(1-(1-e/255)*(1-t/255))}))),ya.overlay=wa(xa((function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))}))),ya.darken=wa(xa((function(e,t){return e>t?t:e}))),ya.lighten=wa(xa((function(e,t){return e>t?e:t}))),ya.dodge=wa(xa((function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e}))),ya.burn=wa(xa((function(e,t){return 255*(1-(1-t/255)/(e/255))})));for(var ka=ya,Ca=d.type,La=d.clip_rgb,Sa=d.TWOPI,Pa=Math.pow,Ba=Math.sin,Na=Math.cos,Ma=y,Ia=v,Ta=Math.floor,Ea=Math.random,Oa=i,Da=Math.log,ja=Math.pow,Ha=Math.floor,Aa=Math.abs,Ra=function(e,t){void 0===t&&(t=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===Oa(e)&&(e=Object.values(e)),e.forEach((function(e){t&&"object"===Oa(e)&&(e=e[t]),null==e||isNaN(e)||(n.values.push(e),n.sum+=e,e<n.min&&(n.min=e),e>n.max&&(n.max=e),n.count+=1)})),n.domain=[n.min,n.max],n.limits=function(e,t){return Fa(n,e,t)},n},Fa=function(e,t,n){void 0===t&&(t="equal"),void 0===n&&(n=7),"array"==Oa(e)&&(e=Ra(e));var r=e.min,a=e.max,o=e.values.sort((function(e,t){return e-t}));if(1===n)return[r,a];var i=[];if("c"===t.substr(0,1)&&(i.push(r),i.push(a)),"e"===t.substr(0,1)){i.push(r);for(var s=1;s<n;s++)i.push(r+s/n*(a-r));i.push(a)}else if("l"===t.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*Da(r),c=Math.LOG10E*Da(a);i.push(r);for(var d=1;d<n;d++)i.push(ja(10,l+d/n*(c-l)));i.push(a)}else if("q"===t.substr(0,1)){i.push(r);for(var f=1;f<n;f++){var h=(o.length-1)*f/n,u=Ha(h);if(u===h)i.push(o[u]);else{var p=h-u;i.push(o[u]*(1-p)+o[u+1]*p)}}i.push(a)}else if("k"===t.substr(0,1)){var g,b=o.length,v=new Array(b),m=new Array(n),y=!0,w=0,x=null;(x=[]).push(r);for(var k=1;k<n;k++)x.push(r+k/n*(a-r));for(x.push(a);y;){for(var C=0;C<n;C++)m[C]=0;for(var L=0;L<b;L++)for(var S=o[L],P=Number.MAX_VALUE,B=void 0,N=0;N<n;N++){var M=Aa(x[N]-S);M<P&&(P=M,B=N),m[B]++,v[L]=B}for(var I=new Array(n),T=0;T<n;T++)I[T]=null;for(var E=0;E<b;E++)null===I[g=v[E]]?I[g]=o[E]:I[g]+=o[E];for(var O=0;O<n;O++)I[O]*=1/m[O];y=!1;for(var D=0;D<n;D++)if(I[D]!==x[D]){y=!0;break}x=I,++w>200&&(y=!1)}for(var j={},H=0;H<n;H++)j[H]=[];for(var A=0;A<b;A++)j[g=v[A]].push(o[A]);for(var R=[],F=0;F<n;F++)R.push(j[F][0]),R.push(j[F][j[F].length-1]);R=R.sort((function(e,t){return e-t})),i.push(R[0]);for(var _=1;_<R.length;_+=2){var $=R[_];isNaN($)||-1!==i.indexOf($)||i.push($)}}return i},_a={analyze:Ra,limits:Fa},$a=v,Wa=v,Ya=Math.sqrt,qa=Math.pow,za=Math.min,Va=Math.max,Xa=Math.atan2,Ua=Math.abs,Ka=Math.cos,Ga=Math.sin,Ja=Math.exp,Za=Math.PI,Qa=v,eo=v,to=y,no=pa,ro={cool:function(){return no([to.hsl(180,1,.9),to.hsl(250,.7,.4)])},hot:function(){return no(["#000","#f00","#ff0","#fff"]).mode("rgb")}},ao={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},oo=0,io=Object.keys(ao);oo<io.length;oo+=1){var so=io[oo];ao[so.toLowerCase()]=ao[so]}var lo=ao,co=y;return co.average=function(e,t,n){void 0===t&&(t="lrgb"),void 0===n&&(n=null);var r=e.length;n||(n=Array.from(new Array(r)).map((function(){return 1})));var a=r/n.reduce((function(e,t){return e+t}));if(n.forEach((function(e,t){n[t]*=a})),e=e.map((function(e){return new na(e)})),"lrgb"===t)return da(e,n);for(var o=e.shift(),i=o.get(t),s=[],l=0,c=0,d=0;d<i.length;d++)if(i[d]=(i[d]||0)*n[0],s.push(isNaN(i[d])?0:n[0]),"h"===t.charAt(d)&&!isNaN(i[d])){var f=i[d]/180*ia;l+=sa(f)*n[0],c+=la(f)*n[0]}var h=o.alpha()*n[0];e.forEach((function(e,r){var a=e.get(t);h+=e.alpha()*n[r+1];for(var o=0;o<i.length;o++)if(!isNaN(a[o]))if(s[o]+=n[r+1],"h"===t.charAt(o)){var d=a[o]/180*ia;l+=sa(d)*n[r+1],c+=la(d)*n[r+1]}else i[o]+=a[o]*n[r+1]}));for(var u=0;u<i.length;u++)if("h"===t.charAt(u)){for(var p=ca(c/s[u],l/s[u])/ia*180;p<0;)p+=360;for(;p>=360;)p-=360;i[u]=p}else i[u]=i[u]/s[u];return h/=r,new na(i,t).alpha(h>.99999?1:h,!0)},co.bezier=function(e){var t=function(e){var t,n,r,a,o,i,s;if(2===(e=e.map((function(e){return new ba(e)}))).length)t=e.map((function(e){return e.lab()})),o=t[0],i=t[1],a=function(e){var t=[0,1,2].map((function(t){return o[t]+e*(i[t]-o[t])}));return new ba(t,"lab")};else if(3===e.length)n=e.map((function(e){return e.lab()})),o=n[0],i=n[1],s=n[2],a=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*o[t]+2*(1-e)*e*i[t]+e*e*s[t]}));return new ba(t,"lab")};else if(4===e.length){var l;r=e.map((function(e){return e.lab()})),o=r[0],i=r[1],s=r[2],l=r[3],a=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*i[t]+3*(1-e)*e*e*s[t]+e*e*e*l[t]}));return new ba(t,"lab")}}else{if(!(e.length>=5))throw new RangeError("No point in running bezier with only one color.");var c,d,f;c=e.map((function(e){return e.lab()})),f=e.length-1,d=function(e){for(var t=[1,1],n=1;n<e;n++){for(var r=[1],a=1;a<=t.length;a++)r[a]=(t[a]||0)+t[a-1];t=r}return t}(f),a=function(e){var t=1-e,n=[0,1,2].map((function(n){return c.reduce((function(r,a,o){return r+d[o]*Math.pow(t,f-o)*Math.pow(e,o)*a[n]}),0)}));return new ba(n,"lab")}}return a}(e);return t.scale=function(){return va(t)},t},co.blend=ka,co.cubehelix=function(e,t,n,r,a){void 0===e&&(e=300),void 0===t&&(t=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===a&&(a=[0,1]);var o,i=0;"array"===Ca(a)?o=a[1]-a[0]:(o=0,a=[a,a]);var s=function(s){var l=Sa*((e+120)/360+t*s),c=Pa(a[0]+o*s,r),d=(0!==i?n[0]+s*i:n)*c*(1-c)/2,f=Na(l),h=Ba(l);return Ma(La([255*(c+d*(-.14861*f+1.78277*h)),255*(c+d*(-.29227*f-.90649*h)),255*(c+d*(1.97294*f)),1]))};return s.start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?r:(r=e,s)},s.hue=function(e){return null==e?n:("array"===Ca(n=e)?0==(i=n[1]-n[0])&&(n=n[1]):i=0,s)},s.lightness=function(e){return null==e?a:("array"===Ca(e)?(a=e,o=e[1]-e[0]):(a=[e,e],o=0),s)},s.scale=function(){return Ma.scale(s)},s.hue(n),s},co.mix=co.interpolate=Er,co.random=function(){for(var e="#",t=0;t<6;t++)e+="0123456789abcdef".charAt(Ta(16*Ea()));return new Ia(e,"hex")},co.scale=pa,co.analyze=_a.analyze,co.contrast=function(e,t){e=new $a(e),t=new $a(t);var n=e.luminance(),r=t.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},co.deltaE=function(e,t,n,r,a){void 0===n&&(n=1),void 0===r&&(r=1),void 0===a&&(a=1);var o=function(e){return 360*e/(2*Za)},i=function(e){return 2*Za*e/360};e=new Wa(e),t=new Wa(t);var s=Array.from(e.lab()),l=s[0],c=s[1],d=s[2],f=Array.from(t.lab()),h=f[0],u=f[1],p=f[2],g=(l+h)/2,b=(Ya(qa(c,2)+qa(d,2))+Ya(qa(u,2)+qa(p,2)))/2,v=.5*(1-Ya(qa(b,7)/(qa(b,7)+qa(25,7)))),m=c*(1+v),y=u*(1+v),w=Ya(qa(m,2)+qa(d,2)),x=Ya(qa(y,2)+qa(p,2)),k=(w+x)/2,C=o(Xa(d,m)),L=o(Xa(p,y)),S=C>=0?C:C+360,P=L>=0?L:L+360,B=Ua(S-P)>180?(S+P+360)/2:(S+P)/2,N=1-.17*Ka(i(B-30))+.24*Ka(i(2*B))+.32*Ka(i(3*B+6))-.2*Ka(i(4*B-63)),M=P-S;M=Ua(M)<=180?M:P<=S?M+360:M-360,M=2*Ya(w*x)*Ga(i(M)/2);var I=h-l,T=x-w,E=1+.015*qa(g-50,2)/Ya(20+qa(g-50,2)),O=1+.045*k,D=1+.015*k*N,j=30*Ja(-qa((B-275)/25,2)),H=-2*Ya(qa(k,7)/(qa(k,7)+qa(25,7)))*Ga(2*i(j)),A=Ya(qa(I/(n*E),2)+qa(T/(r*O),2)+qa(M/(a*D),2)+H*(T/(r*O))*(M/(a*D)));return Va(0,za(100,A))},co.distance=function(e,t,n){void 0===n&&(n="lab"),e=new Qa(e),t=new Qa(t);var r=e.get(n),a=t.get(n),o=0;for(var i in r){var s=(r[i]||0)-(a[i]||0);o+=s*s}return Math.sqrt(o)},co.limits=_a.limits,co.valid=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(eo,[null].concat(e))),!0}catch(e){return!1}},co.scales=ro,co.colors=hn,co.brewer=lo,co}()}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";let e={},t={},r={},a=[],o=[];function i(e,t){e.classList.add(...t)}function s(e,t){Object.assign(e,t)}function l(t){const n=(r=void 0===t.name?"root":t.name,document.getElementById(r));var r;null==n||n.appendChild(t.child.target),(void 0===t.clean||null===t.clean||!0===t.clean)&&(function(t){t.map((t=>{e[t]._inner()}))}(o),function(t){let n={};t.map((t=>{n[t]=e[t]})),e=n}(a))}function c(e){const t=e.slice(),n={};return t.map((e=>{let t=e.split("-."),r=t[0],a=[""];const{propsName:o,className:s,elType:l}=f(r);let c=(d=l,document.createElement(d));var d;i(c,[s]),n[o]=u({target:c,propsName:o,elType:l}),2===t.length&&(a=t[1].split(","),a.map((e=>{p({el:n[o],class:e})})))})),n}function d(e,t){t.map((t=>{let n=t.replace(/\s+/g,"").split("="),r=1===n[0].split("-").length?n[0]:n[0].split("-"),i="",s=r;"string"!=typeof r&&(i=r[0],s=r[1]),"u"===i&&a.push(s),"ui"===i&&(o.push(s),a.push(s)),n[1].split(",").map((t=>{e[s].children([e[t]])}))}))}function f(e){let t=e.split("-"),n=t.splice(t.length-1,1),r="";for(let e in t)0===Number(e)?r+=t[e].charAt(0).toLowerCase()+t[e].slice(1):r+=t[e].charAt(0).toUpperCase()+t[e].slice(1);return{propsName:r,className:t.join("-"),elType:n[0]}}function h(e,t){return void 0===e?t||null:e}function u(e){const t={};return t.target=h(e.target),t.propsName=h(e.propsName),t.elType=h(e.elType),t.pick=function(e){return e&&s(this,e),this},t.text=function(e){return this.target.textContent=e,this},t.inner=h(e.inner,{}),t._inner=function(){return this.inner={},this},t.modify=function(e){return e(this.target,this),this},t.children=function(e){return e.map((e=>{this.target.appendChild(e.target),this.inner[e.propsName]=e})),this},t._children=function(){return this.target.innerHTML="",this},t.style=function(e){return Object.assign(this.target.style,e),this},t._style=function(){return this.attr("style",""),this},t.rs=function(){let e=`${this.propsName}<${this.elType}> =`;for(let t in this.inner)e+=`, ${this.inner[t].propsName}<${this.inner[t].elType}>`;return e.replace("=,","=")},t.attr=function(e,t){return this.target.setAttribute(e,t),this},t.class=function(e){return this.target.classList.add(...e),this},t._class=function(){return this.attr("class",""),this},t.action=function(e,t){return this.target.addEventListener(e,t,!0),this},t._action=function(e,t){return this.target.removeEventListener(e,t,!0),this},t}function p(e){let n=t[e.class],a=r[e.class];n&&i(e.el.target,n),a&&s(e.el.target.style,a)}function g(t){e[t.name]=t.el}function b(e){let t=u({});if(void 0!==e.el){let{propsName:n,className:r,elType:a}=f(e.el),o=document.createElement(a);o.classList.add(r),t.target=o,t.propsName=n,t.elType=a}return void 0!==e.pick&&t.pick(e.pick),void 0!==e.text&&t.text(e.text),void 0!==e.class&&t.class(e.class),void 0!==e.children&&t.children(e.children),void 0!==e.build&&t.modify(e.build),t}function v(t){return e[t]}function m(e){return function(t){return e[t]}}function y(e){if(e.target.innerHTML="",e.iconstart){const t=b({el:"icony-i",class:[...e.iconstart],build:(e,t)=>{t.style({width:"14px",height:"max-content"})}});!0===e.iconStartExpand&&t.class(["mx-1"]),!0===e.iconStartMuted&&t.class(["text-muted"]),e.target.appendChild(t.target)}let t=b({el:"text-label-div",class:["mx-1","text-start","flex-fill","mx-1"],text:e.text,build:(e,t)=>{t.style({height:"max-content"})}});if(!0===e.textCenter&&t.class(["text-center"]),!0===e.textBold&&t.class(["fw-bold"]),e.text&&(t.text(e.text),e.target.appendChild(t.target)),e.dropdown){const t=b({el:"drop-icon-i",class:["bi","bi-chevron-down"]});e.target.appendChild(t.target)}if(e.text)return[t]}function w(e){return e.map((e=>b({el:e.el,build:t=>{e.icon&&y({target:t,iconstart:["bi",e.icon],iconStartExpand:!0}),e.click&&(t.onclick=e.click)}})))}var x;(null==(x={class1:{asp11:["aspect-1-1"],vh100:["vh-100"],bgLight:["bg-white"],bgLight2:["bg-light"],bgDark:["bg-dark"],row:["row"],col6:["col-6"],pFixed:["position-fixed"],pRel:["position-relative"],pAbs:["position-absolute"],pSticky:["position-sticky"],dFlexiCenter:["d-flex","align-items-center"],aiCenter:["align-items-center"],rowReverse:["flex-row-reverse"],pSE:["start-0","end-0"],pS:["start-0"],pB:["bottom-0"],pE:["end-0"],pT:["top-0"],pd2:["p-2"],pdy1:["py-1"],pdx2:["px-2"],pdy2:["py-2"],pdy3:["py-3"],pdx3:["px-3"],pdx7:["px-7"],pdy7:["py-7"],pdt2:["pt-2"],pdb2:["pb-2"],pdb5:["pb-5"],br5:["br-5"],m0:["m-0"],mxauto:["mx-auto"],my2:["my-2"],mx2:["mx-2"],mx3:["mx-3"],my3:["my-3"],mx1:["mx-1"],me1:["me-1"],me2:["me-2"],me3:["me-3"],mt2:["mt-2"],mb2:["mb-2"],fFill:["flex-fill"],dFlex:["d-flex"],dNone:["d-none"],fColumn:["flex-column"],jCenter:["justify-content-center"],jStart:["justify-content-start"],jEnd:["justify-content-end"],jBetween:["justify-content-between"],tlf12:["text-light","fs-12"],tdf12:["text-dark","fs-12"],f12:["fs-12"],fwLight:["fw-light"],fwBold:["fw-bold"],tCenter:["text-center"],tStart:["text-start"],ttrun:["text-truncate"],btn:["btn","btn-sm"],btnPri:["btn-primary"],btnLight:["btn-light"],shadow:["shadow-sm"],border:["border"],flowY:["overflow-y"],flow0:["overflow-0"],borderNone:["border","border-0"],borderY:["border","border-2","border-start-0","border-end-0"],borderRight:["border","border-2","border-end-0","border-bottom-0","border-top-0"],borderleft:["border","border-2","border-start-0","border-bottom-0","border-top-0"],borderBot:["border","border-2","border-start-0","border-end-0","border-top-0"],border2:["border","border-2"],rounded:["rounded"],rounded0:["rounded-0"],dropBox:["bg-dark","border","rounded","w-200","py-2"],btnBorderLight:["btn","btn-sm","btn-light","bg-white","text-dark","fs-12","d-flex","align-items-center","justify-content-between"]},class2:{layerTop:{zIndex:9999},layerMid:{zIndex:999},h100:{height:"100px"},h100p:{height:"100%"},w100p:{width:"100%"},w100:{width:"100px"},h150:{height:"150px"},h300:{height:"300px"},w300:{width:"270px",height:"max-content"},w90:{width:"90px"},headerFile:{minWidth:"200px"},controller:{top:"44px"},flowShow:{overflow:"visible"},controlCanvasWarper:{marginLeft:"-70px"},h33:{minHeight:"33px"},dropBox:{display:"none"},layer:{top:"92px"},mh180:{minHeight:"180px"},renderAllScene:{overflow:"scroll",height:"calc(105vh - 94px)",marginTop:"91px"},renderAllController:{height:"50px"},w50:{width:"50px"},colorPicker:{position:"fixed",top:"140px",right:"320px",width:"250px",height:"content-height",padding:0},colorPickerCircle:{height:"30px",width:"30px",border:"1px solid grey",borderRadius:"9999px"},btnPill:{padding:"7px 4px",width:"100%",border:"2px solid black",borderRadius:"9999px"}},define:["header-nav-div-.dFlexiCenter,bgDark,pd2,pdx3,pAbs,pSE,pT,layerTop","header-logo-div-.tlf12,w100","header-file-div-.tlf12,fwLight,tCenter,ttrun,headerFile","header-save-btn-div-.tlf12,mx3,pdy-1,btn,btnPri","header-file-warper-div-.fFill,jCenter,dFlex","header-version-div-.tlf12","controller-div-.dFlexiCenter,pAbs,pSE,pd2,shadow,borderBot,bgLight,layerTop,controller","controller-file-btn-button-.h33,btnBorderLight,w50,borderNone","controller-file-box-div-.dropBox,layerTop","controller-scale-percent-btn-button-.h33,btnBorderLight,borderNone","controller-scale-percent-box-div-.dropBox,layerTop","controller-warper-left-div-.dFlex,jStart,flowShow,fFill","controller-image-btn-button-.h33,btnBorderLight,w50,borderNone","controller-image-box-div-.dropBox,layerTop","controller-warper-right-div-.dFlex,pdx2,jEnd,flowShow","controller-ratio-btn-button-.btnBorderLight,pdy1,w50,borderNone","controller-ratio-box-div-.dropBox,layerTop","controller-canvas-center-button-button-.h33,btnBorderLight,pdy1,borderNone","controller-canvas-scrollY-button-button-.h33,btnBorderLight,pdy1,w50,borderNone","controller-canvas-scrollX-button-button-.h33,btnBorderLight,pdy1,w50,borderNone","layer-div-.pd2,pAbs,pS,pB,vh100,w300,dFlex,bgLight2,fColumn,layer,layerMid","option-div-.pAbs,pE,pB,vh100,w300,dFlex,bgLight2,fColumn,layer,layerMid,pd2","option-inner-div-.dFlex,fFill,fColumn,bgLight,rounded,shadow,pRel","option-inner-label-button-.btnBorderLight,mt2,h33,borderBot,rounded0,pdt2","option-inner-layer-div-.br5,flowY,h100p","html-canvas-div","html-inner-center-div","html-inner-title-div","html-inner-canvas-div-.asp11,bgLight","html-layer-div","html-image-div","render-canvas-div-.dNone","render-inner-center-div","render-inner-canvas-div","render-controller-div-.bgLight","render-all-scene-div-.renderAllScene,dNone","render-all-controller-div-.dFlexiCenter,jCenter,pdy2,bgLight,pSE,pT,pSticky,renderAllController","render-all-list-div-.pdb5","global-download-link-a-.dNone","global-file-input-input-.dNone","core-component-div-.vh100,pRel"],arrange:["headerFileWarper = headerFile","headerNav = headerLogo,headerFileWarper,headerSaveBtn,headerVersion","controllerWarperLeft = controllerFileBtn,controllerImageBtn,controllerRatioBtn,controllerCanvasScrollYButton,controllerCanvasScrollXButton,controllerCanvasCenterButton","controllerWarperRight = controllerScalePercentBtn","controller = controllerWarperLeft,controllerWarperRight","optionInner = optionInnerLabel,optionInnerLayer","option = optionInner","htmlInnerCanvas = htmlImage,htmlLayer","htmlInnerCenter = htmlInnerTitle,htmlInnerCanvas","htmlCanvas = htmlInnerCenter","renderInnerCenter = renderInnerCanvas","renderCanvas = renderInnerCenter,renderController","renderAllScene = renderAllController,renderAllList"]})?void 0:x.class1)&&s(t,x.class1),(null==x?void 0:x.class2)&&s(r,x.class2),(null==x?void 0:x.define)&&function(t){Object.assign(e,c(t))}(x.define),(null==x?void 0:x.arrange)&&d(e,x.arrange);const k=y;v("optionInnerLabel").modify(((e,t)=>{k({target:e,text:"Option",textBold:!0})})),v("globalFileInput").modify((e=>{e.type="file"}));const C=v,L=new class{constructor(){this.value=""}val(e){return this.value=e,this}isExists(e){return null!==localStorage.getItem(e)}storeToCanvasBackground(){return localStorage.setItem("canvasBackground",JSON.stringify(this.value)),this}storeToProjectName(){localStorage.setItem("projectName",JSON.stringify(this.value))}storeToCanvasMode(){return localStorage.setItem("canvasMode",JSON.stringify(this.value)),this}getProjectName(){return JSON.parse(localStorage.getItem("projectName"))}getCanvasMode(){return JSON.parse(localStorage.getItem("canvasMode"))}getCanvasBackground(){return JSON.parse(localStorage.getItem("canvasBackground"))}status(){var e="";for(var t in console.log("Current local storage: "),window.localStorage)window.localStorage.hasOwnProperty(t)&&(e+=window.localStorage[t],console.log(t+" = "+(16*window.localStorage[t].length/8192).toFixed(2)+" KB"));console.log(e?"\nTotal space used: "+(16*e.length/8192).toFixed(2)+" KB":"Empty (0 KB)"),console.log(e?"Approx. space remaining: "+(5120-(16*e.length/8192).toFixed(2))+" KB":"5 MB")}};function S(e,t){return e||t}const P=e=>({layerName:e.layerName,isHighlight:S(e.highlight,!1),component:{type:S(e.type,"Empty"),text:S(e.text,""),height:S(e.height,50),width:S(e.width,100),textColor:S(e.textColor,"#000000")}}),B=e=>({canvas:{layerName:e.layerName,aspectRatio:S(e.aspectRatio,"aspect-1:1"),isHighlight:S(e.highlight,!1),data:S(e.data,[P({layerName:"New Layer"})])}}),N=[B({layerName:"Hello World",highlight:!0})],M=[B({layerName:"Hello World",highlight:!0,data:[P({layerName:"Title",highlight:!0,type:"Empty",text:"Hello World for Copra",height:"80",textColor:"#2d2d2d"}),P({layerName:"Header",type:"Header",text:"Hello.txt",textColor:"#ffffff"}),P({layerName:"Comment",type:"Line",text:"// It works like a charm",textColor:"#FDF5DF"}),P({layerName:"Coding",type:"Line",textColor:"#ffffff",text:"console.log('Hello World\");"}),P({layerName:"Footer",type:"Footer",textColor:"#2d2d2d"})]})];let I,T;const E=new WeakMap,O=new WeakMap,D=new WeakMap,j=new WeakMap,H=new WeakMap;let A={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return O.get(e);if("objectStoreNames"===t)return e.objectStoreNames||D.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return F(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function R(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(T||(T=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(_(this),e),F(E.get(this))}:function(...e){return F(t.apply(_(this),e))}:function(e,...n){const r=t.call(_(this),e,...n);return D.set(r,e.sort?e.sort():[e]),F(r)}:(e instanceof IDBTransaction&&function(e){if(O.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)}));O.set(e,t)}(e),n=e,(I||(I=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>n instanceof e))?new Proxy(e,A):e);var t,n}function F(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{t(F(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&E.set(t,e)})).catch((()=>{})),H.set(t,e),t}(e);if(j.has(e))return j.get(e);const t=R(e);return t!==e&&(j.set(e,t),H.set(t,e)),t}const _=e=>H.get(e);function $(e,t,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const i=indexedDB.open(e,t),s=F(i);return r&&i.addEventListener("upgradeneeded",(e=>{r(F(i.result),e.oldVersion,e.newVersion,F(i.transaction))})),n&&i.addEventListener("blocked",(()=>n())),s.then((e=>{o&&e.addEventListener("close",(()=>o())),a&&e.addEventListener("versionchange",(()=>a()))})).catch((()=>{})),s}const W=["get","getKey","getAll","getAllKeys","count"],Y=["put","add","delete","clear"],q=new Map;function z(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(q.get(t))return q.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=Y.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!W.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,a?"readwrite":"readonly");let i=o.store;return r&&(i=i.index(t.shift())),(await Promise.all([i[n](...t),a&&o.done]))[0]};return q.set(t,o),o}function V(){return new Promise((async e=>{const t=await $("copra",1);let n=t.transaction("page","readwrite");e(await n.objectStore("page").get("data")),t.close()}))}function X(){return new Promise((async e=>{const t=await $("copra",1);let n=t.transaction("image","readwrite");e(await n.objectStore("image").get("data")),t.close()}))}function U(e){return new Promise((async t=>{const n=await $("copra",1),r=n.transaction("page","readwrite");await r.objectStore("page").put(e,"data"),t("success"),n.close()}))}function K(e){return new Promise((async t=>{const n=await $("copra",1),r=n.transaction("image","readwrite");await r.objectStore("image").put(e,"data"),t("success"),n.close()}))}var G;G=A,A={...G,get:(e,t,n)=>z(e,t)||G.get(e,t,n),has:(e,t)=>!!z(e,t)||G.has(e,t)};const J=new class{constructor(){this.state={pageData:[],imageData:[]}}setPageLayerData(e){this.state.pageData=e}getPageLayerData(){return this.state.pageData}updateApp(){L.isExists("pageData")&&localStorage.removeItem("pageData"),L.isExists("imageData")&&localStorage.removeItem("imageData"),U(N),K(""),L.val("#FFFFFF").storeToCanvasBackground(),L.val("htmlmode").storeToCanvasMode()}resetApp(){return new Promise((async e=>{await U(""),L.val("").storeToCanvasBackground(),L.val("htmlmode").storeToCanvasMode(),L.val("").storeToProjectName(),e("success")}))}useTemplate(){return new Promise((async e=>{await U(M),L.val("#FDF5DF").storeToCanvasBackground(),L.val("htmlmode").storeToCanvasMode(),e("success")}))}};class Z{constructor(){this.state=[],this.host=null,this.worker=null}setHost(e){return this.host=e,this}getHost(){return this.host}listen(e){return this.worker=e,this}response(){return this.worker(),this}setState(e){return this.state=e,this}checkState(e,t,n){const r=this.state.reduce(((r,a)=>n(r,a,e,t)),[]);this.setState(r)}build(){}render(){}}function Q(e){return e.filter((e=>!0===e.canvas.isHighlight))[0].canvas}function ee(e){const t=function(e){const t=Q(e).data.filter((e=>!0===e.isHighlight));return 0===t.length?{component:[]}:t[0]}(e);return t.component}function te(e,t){return e.reduce(((e,n)=>(!0===n.canvas.isHighlight?(t.layerName&&(n.canvas.layerName=t.layerName),t.highlight&&(n.canvas.isHighlight=t.highlight),t.aspectRatio&&(n.canvas.aspectRatio=t.aspectRatio),t.data&&(n.canvas.data=t.data),e.push(n)):e.push(n),e)),[])}const ne=["btn","btn-sm","text-center","d-flex","fs-12"],re=e=>[b({el:"up-layer-btn-div",class:[...ne,"justify-content-center","btn-primary","my-1"],build:t=>{y({target:t,iconstart:["bi","bi-chevron-compact-up"]}),t.onclick=e.upAction}}),b({el:"label-layer-btn-div",class:[...ne,"justify-content-center","align-items-center","border-0","text-dark"],text:e.layerName,build:(e,t)=>{t.style({backgroundColor:"transparent"})}}),b({el:"down-layer-btn-div",class:[...ne,"justify-content-center","btn-primary","my-1"],build:t=>{y({target:t,iconstart:["bi","bi-chevron-compact-down"]}),t.onclick=e.downAction}})],ae=e=>[b({el:"up-layer-btn-div",class:["flex-fill","py-1","text-primary"],text:e.layerName})],oe=e=>b({el:"move-layer-cancel-div",class:[...ne,"justify-content-center","btn-primary","my-1","py-2"],text:"CANCEL",build:t=>{t.onclick=e.action}}),ie=["btn","btn-sm","btn-light","d-flex","fs-12","my-1","py-2"];class se extends Z{constructor(){super(),this.edit=!1,this.element=c(["layer-div","layer-inner-page-div-.mh180,dFlex,fColumn,bgLight,rounded,shadow","layer-inner-page-btn-button-.btnBorderLight,mt2,h33,borderBot,rounded0","layer-inner-page-list-div-.h150,flowY,pdx2,pdy2"]),this.element.layer=C("layer"),d(this.element,["layerInnerPage = layerInnerPageBtn,layerInnerPageList","layer = layerInnerPage"]),this.pick=m(this.element),this.build()}createPageLayer(){this.state.push(B({layerName:"New Page"})),this.updateCpsState(),this.render()}deletePageLayer(){this.state.length>1&&(this.setState(this.state.filter((e=>!0!==e.canvas.isHighlight))),this.state[0].canvas.isHighlight=!0,this.updateCpsState(),this.render(),this.response())}moveLayer(){this.pick("layerInnerPageList")._children(),this.pick("layerInnerPageList").children([oe({action:()=>{this.render()}})]),this.state.map(((e,t)=>{const n=b({el:"move-layer-btn-div",class:["justify-content-between",...ie.filter((e=>"py-2"!==e)),!0===e.isHighlight?"highlight":"not-highlight"],children:!0!==e.isHighlight?re({upAction:()=>{this.moveArray(t,-1),this.updateCpsState(),this.render()},layerName:e.canvas.layerName,downAction:()=>{this.moveArray(t,1),this.updateCpsState(),this.render()}}):ae({layerName:e.canvas.layerName})});this.pick("layerInnerPageList").children([n])}))}build(){this.pick("layerInnerPageBtn").modify((e=>{k({target:e,text:"Page",textBold:!0})})),this.pick("layerInnerPageBtn").children(w([{el:"flex-fill-div"},{el:"move-layer-div",icon:"bi-arrows-move",click:()=>{this.moveLayer()}},{el:"edit-layer-div",icon:"bi-pen-fill",click:()=>{this.edit=!0,this.render()}},{el:"add-layer-div",icon:"bi-plus-lg",click:()=>{this.edit=!1,this.createPageLayer()}},{el:"delete-layer-div",icon:"bi-trash3-fill",click:()=>{this.edit=!1,this.deletePageLayer()}}])),this.render()}render(){this.pick("layerInnerPageList")._children(),this.getCpsState(),this.state.map(((e,t)=>{let n=b({el:"layer-btn-div",class:[...ie,!0===e.canvas.isHighlight?"highlight":"not-highlight"],build:n=>{k({target:n,iconstart:["bi","bi-collection","pe-1"],text:e.canvas.layerName,iconStartMuted:!0}),n.onclick=()=>{!0!==e.canvas.isHighlight&&(this.edit=!1,this.canvasHighlight(t),this.updateCpsState(),this.render(),this.response())},n.ondblclick=()=>{this.edit=!0,this.render()}}});this.edit&&e.canvas.isHighlight&&(n=b({el:"layer-btn-div",class:[...ie,!0===e.canvas.isHighlight?"highlight":"not-highlight"],build:t=>{k({target:t,iconstart:["bi","bi-collection"]});const n=b({el:"canvas-input-input",class:["outline-none","fs-12","ms-1","fw-bold"],build:(t,n)=>{n.style({background:"transparent"}),t.type="text",t.value=e.canvas.layerName,t.onclick=()=>{t.focus(),t.select()},t.onkeydown=e=>{"Enter"===e.code&&(this.edit=!1,this.renameLayer(t.value),this.updateCpsState(),this.render(),this.response())},t.onblur=()=>{this.edit=!1,this.render()},setTimeout((()=>{t.focus(),t.select()}),100)}});t.appendChild(n.target)}})),this.pick("layerInnerPageList").children([n])}))}canvasHighlight(e){this.setState(this.state.reduce(((t,n,r)=>(r===e?(n.canvas.isHighlight=!0,t.push(n)):(n.canvas.isHighlight=!1,t.push(n)),t)),[]))}renameLayer(e){this.setState(te(J.getPageLayerData(),{layerName:e}))}getCpsState(){this.setState(J.getPageLayerData())}updateCpsState(){J.setPageLayerData(this.state)}moveArray(e,t){let n=this.state.filter((e=>!0===e.canvas.isHighlight));this.setState(this.state.reduce(((r,a,o)=>(o===e?(-1===t&&r.push(n[0]),r.push(a),1===t&&r.push(n[0])):!0!==a.canvas.isHighlight&&r.push(a),r)),[]))}}class le extends Z{constructor(){super(),this.edit=!1,this.canvas=!1,this.element=c(["layer-div","layer-inner-layer-div-.dFlex,fColumn,bgLight,rounded,shadow,fFill,mt2","layer-inner-layer-label-div-.btnBorderLight,mt2,h33,borderBot,rounded0","layer-inner-canvas-button-div-.btnBorderLight,h33,borderBot,rounded0,pdx3","layer-inner-layer-list-div-.h300,flowY,pdx2,pdy2"]),this.element.layer=C("layer"),d(this.element,["layerInnerLayer = layerInnerLayerLabel,layerInnerCanvasButton,layerInnerLayerList","layer = layerInnerLayer"]),this.pick=m(this.element),this.build()}createLayer(){this.state.push(P({layerName:"New Layer"})),this.updateCpsState(),this.render(),this.response()}deleteLayer(){this.state.length>1&&this.setState(this.state.filter((e=>!0!==e.isHighlight))),this.updateCpsState(),this.render(),this.response()}moveLayer(){this.isLayerSelected&&(this.pick("layerInnerLayerList")._children(),this.pick("layerInnerLayerList").children([oe({action:()=>{this.render()}})]),this.state.map(((e,t)=>{this.pick("layerInnerLayerList").children([b({el:"move-layer-btn-div",class:["justify-content-between",...ie.filter((e=>"py-2"!==e)),!0===e.isHighlight?"highlight":"not-highlight"],children:!0!==e.isHighlight?re({upAction:()=>{this.moveArray(t,-1),this.updateCpsState(),this.render(),this.response()},layerName:e.layerName,downAction:()=>{this.moveArray(t,1),this.updateCpsState(),this.render(),this.response()}}):ae({layerName:e.layerName})})])})))}build(){this.pick("layerInnerLayerLabel").modify((e=>{k({target:e,text:"Layer",textBold:!0})})),this.pick("layerInnerCanvasButton").modify(((e,t)=>{k({target:e,iconstart:["bi","bi-collection"],text:"Page",textBold:!0})})),this.pick("layerInnerCanvasButton").action("click",(()=>{!0!==this.canvas&&(this.canvasBtnOn(),this.layerRefresh(),this.updateCpsState(),this.render(),this.response())})),this.createControlBtn(),this.updatePageTitle(),this.render()}canvasBtnOff(){this.canvas=!1,this.pick("layerInnerCanvasButton").target.classList.remove("highlight")}canvasBtnOn(){this.canvas=!0,this.pick("layerInnerCanvasButton").target.classList.add("highlight")}render(){this.pick("layerInnerLayerList")._children(),this.getCpsState(),this.updatePageTitle(),this.state.map(((e,t)=>{let n=b({el:"layer-btn-div",class:[...ie,!0===e.isHighlight?"highlight":"not-highlight"],build:n=>{k({target:n,iconstart:["bi","bi-bounding-box-circles"],text:e.layerName}),n.onclick=()=>{!0!==e.isHighlight&&(this.edit=!1,this.layerHighlight(t),this.updateCpsState(),this.render(),this.response(),!0===this.canvas&&this.canvasBtnOff())},n.ondblclick=()=>{this.edit=!0,this.render()}}});this.edit&&e.isHighlight&&(n=b({el:"layer-btn-div",class:[...ie,!0===e.isHighlight?"highlight":"not-highlight"],build:t=>{k({target:t,iconstart:["bi","bi-bounding-box-circles"]});const n=b({el:"cansvas-input-input",class:["outline-none","fs-12","ms-1","fw-bold"],build:(t,n)=>{n.style({background:"transparent"}),t.type="text",t.value=e.layerName,t.onclick=()=>{t.focus(),t.select()},t.onkeydown=e=>{"Enter"===e.code&&(this.edit=!1,this.renameLayer(t.value),this.updateCpsState(),this.render())},t.onblur=()=>{this.edit=!1,this.render()},setTimeout((()=>{t.focus(),t.select()}),100)}});t.appendChild(n.target)}})),this.pick("layerInnerLayerList").children([n])}))}layerHighlight(e){this.setState(this.state.reduce(((t,n,r)=>(r===e?(n.isHighlight=!0,t.push(n)):(n.isHighlight=!1,t.push(n)),t)),[]))}getCpsState(){this.setState(Q(J.getPageLayerData()).data)}updateCpsState(){const e=te(J.getPageLayerData(),{data:this.state});J.setPageLayerData(e)}renameLayer(e){this.setState(this.state.reduce(((t,n)=>(!0===n.isHighlight?(n.layerName=e,t.push(n)):t.push(n),t)),[]))}moveArray(e,t){let n=this.state.filter((e=>!0===e.isHighlight));this.setState(this.state.reduce(((r,a,o)=>(o===e?(-1===t&&r.push(n[0]),r.push(a),1===t&&r.push(n[0])):!0!==a.isHighlight&&r.push(a),r)),[]))}createControlBtn(){this.pick("layerInnerLayerLabel").children(w([{el:"flex-fill-div"},{el:"move-layer-div",icon:"bi-arrows-move",click:()=>{this.moveLayer()}},{el:"edit-layer-div",icon:"bi-pen-fill",click:()=>{this.edit=!0,this.render()}},{el:"add-layer-div",icon:"bi-plus-lg",click:()=>{this.edit=!1,this.createLayer()}},{el:"delete-layer-div",icon:"bi-trash3-fill",click:()=>{this.edit=!1,this.deleteLayer()}}]))}layerRefresh(){this.setState(this.state.reduce(((e,t)=>(t.isHighlight=!1,e.push(t),e)),[]))}isLayerSelected(){return 0===this.state.filter((e=>!0===e.isHighlight)).length}updatePageTitle(){this.pick("layerInnerCanvasButton").modify(((e,t)=>{t._children(),k({target:e,iconstart:["bi","bi-collection"],text:Q(J.getPageLayerData()).layerName,textBold:!0})})),this.isLayerSelected()?this.canvasBtnOn():this.canvasBtnOff()}}function ce(e,t,n){return b({el:"com-empty-div",class:[!0===e.isHighlight?"com-highlight":"com-not-highlight"],text:e.component.text.length>0?e.component.text:"",build:(r,a)=>{a.style({color:e.component.textColor,height:e.component.height+"px",textShadow:n?"0 2px 2px rgba(0, 0, 0, 30%)":"",fontWeight:"bold",fontSize:t+"px"})}})}class de extends Z{constructor(e){super(),this.defaultX=-50,this.defaultY=-50,this.x=-50,this.y=-50,this.max=0,this.min=0,this.scale=1,this.scalePercent=0,this.element=null,this.scaleBy=5,this.verticalMove=!1,this.horizontalMove=!1,this.direction="non",this.canvas=C(e).target}setCanvasPosition(e,t){this.x=e,this.y=t}scaleBy(e){this.scaleBy=e}getScale(){return this.scale}setMinMax(e,t){return this.min=e,this.max=t,this}setScalePercentMiddle(){return this.scalePercent=this.max/2,this.scale=this.scalePercent/100,this}parseScale(e){return`scale(${e})`}parseTranslate(e,t){return`translate(${e}%,${t}%)`}scaleTranslate(e,t,n){return"transform: "+this.parseTranslate(t,n)+" "+this.parseScale(e)+";"}scaleTo(e){return this.scalePercent=100*e,this.scale=this.scalePercent/100,this.changeCanvas(),this}changeCanvas(){return this.canvas.setAttribute("style",this.scaleTranslate(this.scale,this.x,this.y)),this}canvasReset(){this.scalePercent=this.max/2,this.scale=this.scalePercent/100,this.setCanvasPosition(this.defaultX,this.defaultY),this.canvas.setAttribute("style",this.scaleTranslate(this.scale,this.x,this.y))}verticalMoveOn(){this.verticalMove=!0}verticalMoveOff(){this.verticalMove=!1}horizontalMoveOn(){this.horizontalMove=!0}horizontalMoveOff(){this.horizontalMove=!1}getPercentage(){return String(this.scalePercent).split(".")[0]+"%"}build(){this.canvas.addEventListener("wheel",(e=>{e.deltaY>0&&!this.verticalMove&&!this.horizontalMove&&(this.scalePercent-=this.scaleBy),e.deltaY<0&&!this.verticalMove&&!this.horizontalMove&&(this.scalePercent+=this.scaleBy),e.deltaY>0&&this.verticalMove&&(this.direction="down",this.y-=this.scaleBy),e.deltaY<0&&this.verticalMove&&(this.direction="up",this.y+=this.scaleBy),e.deltaY>0&&this.horizontalMove&&(this.direction="left",this.x+=this.scaleBy),e.deltaY<0&&this.horizontalMove&&(this.direction="right",this.x-=this.scaleBy),this.scalePercent>this.max&&(this.scalePercent=this.max),this.scalePercent<this.min&&(this.scalePercent=this.min),this.scale=this.scalePercent/100,this.canvas.setAttribute("style",this.scaleTranslate(this.scale,this.x,this.y)),this.response()}))}}const fe=[{name:"aspect-1:1",value:"aspect-1-1"},{name:"aspect-9:16",value:"aspect-9-16"},{name:"aspect-16:9",value:"aspect-16-9"}];function he(e){C("htmlInnerCanvas").modify((t=>{let n=function(e,t){let n=[...e],r=t.map((e=>e.value)),a="";for(let e of n)if(r.includes(e)){a=e;break}return a}(t.classList,fe);t.classList.replace(n,e.replace(":","-"))}))}function ue(e){te(J.getPageLayerData(),{aspectRatio:aspectName})}function pe(){return"htmlmode"===L.getCanvasMode()}class ge extends Z{constructor(){super(),this.canvas=!1,this.htmlCanvasScaler=new de("htmlInnerCenter"),this.build()}build(){this.htmlCanvasScaler.setMinMax(10,300).setScalePercentMiddle().changeCanvas().listen((()=>{C("iconPercentLabel").text(this.htmlCanvasScaler.getPercentage())})).build(),C("iconPercentLabel").text(this.htmlCanvasScaler.getPercentage()),C("htmlInnerTitle").action("click",(()=>{!0!==this.canvas&&(this.canvas=!0,C("htmlLayer").class(["com-highlight"]),this.clearSelect(),this.updateCpsState(),this.render(),this.response())})),this.updateTitle(),this.render()}render(){he(Q(J.getPageLayerData()).aspectRatio),C("htmlLayer")._children(),this.getCpsState(),this.updateTitle(),this.buildCanvas(this.state)}buildCanvas(e){e.map(((e,t)=>{let n=null;"Empty"===e.component.type&&(n=function(e){return b({el:"com-empty-div",class:[!0===e.isHighlight?"com-highlight":"com-not-highlight"],build:(t,n)=>{n.style({color:e.component.textColor,height:e.component.height+"px",fontSize:"16px",fontWeight:"bold"})}})}(e)),"Text 1"===e.component.type&&(n=ce(e,16,!0)),"Text 2"===e.component.type&&(n=ce(e,9,!0)),"Flat Text 1"===e.component.type&&(n=ce(e,16)),"Flat Text 2"===e.component.type&&(n=ce(e,9)),"Header"===e.component.type&&(n=function(e){let t=c(["com-header-div","inner-div","option-div","circle-div","circle2-div","circle3-div","label-div"]);d(t,["option = circle , circle2 , circle3","inner = option , label","comHeader = inner"]);let n=m(t);return n("comHeader").class([!0===e.isHighlight?"com-highlight":"com-not-highlight"]),n("label").text(e.component.text.length>0?e.component.text:"").style({color:e.component.textColor}),n("comHeader")}(e)),"Line"===e.component.type&&(n=function(e){return b({el:"com-line-div",class:[!0===e.isHighlight?"com-highlight":"com-not-highlight"],children:[b({el:"inner-div",text:e.component.text,build:t=>{t.style.color=e.component.textColor}})]})}(e)),"Footer"===e.component.type&&(n=function(e){return b({el:"com-footer-div",class:[!0===e.isHighlight?"com-highlight":"com-not-highlight"],children:[b({el:"inner-div"})]})}(e)),n.target.onclick=()=>{!0!==e.isHighlight&&(this.canvas=!1,C("htmlLayer").target.classList.remove("com-highlight"),this.checkComponent(t),this.updateCpsState(),this.render(),this.response())},C("htmlLayer").children([n])}))}canvasHighlightOn(){this.canvas=!0,C("htmlLayer").class(["com-highlight"])}canvasHighlightOff(){this.canvas=!1,C("htmlLayer").target.classList.remove("com-highlight")}checkComponent(e){this.setState(this.state.reduce(((t,n,r)=>(r===e?(n.isHighlight=!0,t.push(n)):(n.isHighlight=!1,t.push(n)),t)),[]))}getCpsState(){this.setState(Q(J.getPageLayerData()).data)}clearSelect(){this.setState(this.state.reduce(((e,t)=>(t.isHighlight=!1,e.push(t),e)),[]))}updateCpsState(){const e=te(J.getPageLayerData(),{data:this.state});J.setPageLayerData(e)}isLayerSelected(){return 0===this.state.filter((e=>!0===e.isHighlight)).length}updateTitle(){C("htmlInnerTitle").text(Q(J.getPageLayerData()).layerName),this.isLayerSelected()&&pe()?this.canvasHighlightOn():this.canvasHighlightOff()}scaleBackToNormal(){this.htmlCanvasScaler.canvasReset(),C("iconPercentLabel").text(this.htmlCanvasScaler.getPercentage())}enableMoveX(){this.htmlCanvasScaler.horizontalMoveOn()}disableMoveX(){this.htmlCanvasScaler.horizontalMoveOff()}enableMoveY(){this.htmlCanvasScaler.verticalMoveOn()}disableMoveY(){this.htmlCanvasScaler.verticalMoveOff()}disableMove(){this.disableMoveX(),this.disableMoveY()}scaleCanvasTo(e){this.htmlCanvasScaler.scaleTo(e),C("iconPercentLabel").text(this.htmlCanvasScaler.getPercentage())}}const be=JSON.parse('{"aliceblue":"#f0f8ff","antiquewhite":"#faebd7","aqua":"#00ffff","aquamarine":"#7fffd4","azure":"#f0ffff","beige":"#f5f5dc","bisque":"#ffe4c4","black":"#000000","blanchedalmond":"#ffebcd","blue":"#0000ff","blueviolet":"#8a2be2","brown":"#a52a2a","burlywood":"#deb887","cadetblue":"#5f9ea0","chartreuse":"#7fff00","chocolate":"#d2691e","coral":"#ff7f50","cornflowerblue":"#6495ed","cornsilk":"#fff8dc","crimson":"#dc143c","cyan":"#00ffff","darkblue":"#00008b","darkcyan":"#008b8b","darkgoldenrod":"#b8860b","darkgray":"#a9a9a9","darkgreen":"#006400","darkgrey":"#a9a9a9","darkkhaki":"#bdb76b","darkmagenta":"#8b008b","darkolivegreen":"#556b2f","darkorange":"#ff8c00","darkorchid":"#9932cc","darkred":"#8b0000","darksalmon":"#e9967a","darkseagreen":"#8fbc8f","darkslateblue":"#483d8b","darkslategray":"#2f4f4f","darkslategrey":"#2f4f4f","darkturquoise":"#00ced1","darkviolet":"#9400d3","deeppink":"#ff1493","deepskyblue":"#00bfff","dimgray":"#696969","dimgrey":"#696969","dodgerblue":"#1e90ff","firebrick":"#b22222","floralwhite":"#fffaf0","forestgreen":"#228b22","fuchsia":"#ff00ff","gainsboro":"#dcdcdc","ghostwhite":"#f8f8ff","goldenrod":"#daa520","gold":"#ffd700","gray":"#808080","green":"#008000","greenyellow":"#adff2f","grey":"#808080","honeydew":"#f0fff0","hotpink":"#ff69b4","indianred":"#cd5c5c","indigo":"#4b0082","ivory":"#fffff0","khaki":"#f0e68c","lavenderblush":"#fff0f5","lavender":"#e6e6fa","lawngreen":"#7cfc00","lemonchiffon":"#fffacd","lightblue":"#add8e6","lightcoral":"#f08080","lightcyan":"#e0ffff","lightgoldenrodyellow":"#fafad2","lightgray":"#d3d3d3","lightgreen":"#90ee90","lightgrey":"#d3d3d3","lightpink":"#ffb6c1","lightsalmon":"#ffa07a","lightseagreen":"#20b2aa","lightskyblue":"#87cefa","lightslategray":"#778899","lightslategrey":"#778899","lightsteelblue":"#b0c4de","lightyellow":"#ffffe0","lime":"#00ff00","limegreen":"#32cd32","linen":"#faf0e6","magenta":"#ff00ff","maroon":"#800000","mediumaquamarine":"#66cdaa","mediumblue":"#0000cd","mediumorchid":"#ba55d3","mediumpurple":"#9370db","mediumseagreen":"#3cb371","mediumslateblue":"#7b68ee","mediumspringgreen":"#00fa9a","mediumturquoise":"#48d1cc","mediumvioletred":"#c71585","midnightblue":"#191970","mintcream":"#f5fffa","mistyrose":"#ffe4e1","moccasin":"#ffe4b5","navajowhite":"#ffdead","navy":"#000080","oldlace":"#fdf5e6","olive":"#808000","olivedrab":"#6b8e23","orange":"#ffa500","orangered":"#ff4500","orchid":"#da70d6","palegoldenrod":"#eee8aa","palegreen":"#98fb98","paleturquoise":"#afeeee","palevioletred":"#db7093","papayawhip":"#ffefd5","peachpuff":"#ffdab9","peru":"#cd853f","pink":"#ffc0cb","plum":"#dda0dd","powderblue":"#b0e0e6","purple":"#800080","rebeccapurple":"#663399","red":"#ff0000","rosybrown":"#bc8f8f","royalblue":"#4169e1","saddlebrown":"#8b4513","salmon":"#fa8072","sandybrown":"#f4a460","seagreen":"#2e8b57","seashell":"#fff5ee","sienna":"#a0522d","silver":"#c0c0c0","skyblue":"#87ceeb","slateblue":"#6a5acd","slategray":"#708090","slategrey":"#708090","snow":"#fffafa","springgreen":"#00ff7f","steelblue":"#4682b4","tan":"#d2b48c","teal":"#008080","thistle":"#d8bfd8","tomato":"#ff6347","turquoise":"#40e0d0","violet":"#ee82ee","wheat":"#f5deb3","white":"#ffffff","whitesmoke":"#f5f5f5","yellow":"#ffff00","yellowgreen":"#9acd32"}');var ve=n(670),me=n.n(ve);const ye=Object.keys(be).filter((e=>"black"!==e&&"white"!==e));ye.unshift("black","white");const we=[.4,.3],xe=ye.reduce(((e,t)=>{var n;return"black"===t||"white"===t?e.push(be[t]):e.push(...(n=be[t],[...we.map((e=>me()(n).saturate(e).hex())),...we.map((e=>me()(n).desaturate(e).hex()))])),e}),[]),ke=c(["colorpicker-container-div-.btn,btnLight,bgLight,colorPicker,shadow,layerTop","colorpicker-close-btn-div-.btnBorderLight,h33,borderBot,rounded0,pdx3,rowReverse","colorpicker-list-div-.h300,flowY,pdx2,pdy2"]);d(ke,["colorpickerContainer = colorpickerCloseBtn,colorpickerList"]);const Ce=m(ke);function Le(){Ce("colorpickerContainer").class(["d-none"])}function Se(){Ce("colorpickerContainer").target.classList.remove("d-none")}function Pe(e){const t=c(["colorpicker-open-btn-div-.btn,bgLight,dFlex,jStart,aiCenter,h33,borderNone,rounded0,mt2","colorpicker-circle-div-.colorPickerCircle,me2","colorpicker-hex-label-div-.tdf12,fwBold"]);d(t,["colorpickerOpenBtn = colorpickerCircle,colorpickerHexLabel"]);const n=m(t);return n("colorpickerCircle").style({backgroundColor:e.color}),n("colorpickerHexLabel").text(e.color),n("colorpickerOpenBtn")}function Be(e,t){e.inner.colorpickerCircle.style({backgroundColor:t})}function Ne(e,t){e.inner.colorpickerHexLabel.text(t)}function Me(e){Ce("colorpickerList")._children(),Ce("colorpickerList").children(e)}function Ie(e,t){e.style({height:"30px",width:"30px",margin:"5px",borderRadius:"4px",backgroundColor:t})}Ce("colorpickerCloseBtn").modify(((e,t)=>{k({target:e,iconstart:["bi","bi-plus-lg","rotate-45","fs-6"]}),t.action("click",(()=>{Le()}))})),Le();class Te extends Z{constructor(){super(),this.currentStorageColor=L.getCanvasBackground(),this.element=c(["colorpicker-div","background-label-div-.btnBorderLight,h33,borderBot,rounded0","background-upload-btn","background-upload-container-div-.btn,bgLight,dFlex,jStart,aiCenter,borderBot,rounded0,pdb2","background-upload-btn-div-.btnPill,tCenter,my1,f12","background-file-input-.dNone","background-container-div"]),this.element.colorpicker=Pe({color:this.currentStorageColor}),d(this.element,["backgroundUploadContainer = backgroundUploadBtn","backgroundContainer = backgroundLabel,colorpicker,backgroundUploadContainer,backgroundFile"]),this.pickbg=m(this.element),this.colorBoxBtn=xe.map((e=>b({el:"color-box-div",class:["btn"],build:(t,n)=>{n.action("click",(()=>{this.canvasBackground(e),L.val(e).storeToCanvasBackground(),Be(this.pickbg("colorpicker"),e),Ne(this.pickbg("colorpicker"),e),Le()})),Ie(n,e)}})))}canvasBackground(e){C("htmlImage").style({backgroundColor:e})}canvasImage(e){C("htmlImage").style({backgroundImage:e})}build(){let e=this.pickbg("backgroundUploadBtn");X().then((t=>{t.length>0&&(this.canvasImage(`url(${t})`),e.text("Cancel"))})),Be(this.pickbg("colorpicker"),this.currentStorageColor),Ne(this.pickbg("colorpicker"),this.currentStorageColor),this.pickbg("backgroundLabel").modify((e=>{y({target:e,text:"Background",textBold:!0})})),this.pickbg("backgroundUploadBtn").modify(((t,n)=>{n.action("click",(()=>{"Cancel"!==e.target.textContent?this.pickbg("backgroundFile").target.click():(this.pickbg("backgroundFile").target.value="",this.canvasImage(""),e.text("Upload Image"),K(""))})),n.text("Upload Image")})),this.pickbg("backgroundFile").modify(((t,n)=>{t.type="file",n.action("change",(function(){const t=new FileReader;t.addEventListener("load",(()=>{const n=t.result;C("htmlImage").modify((e=>{e.style.backgroundImage=`url(${n})`,K(n)})),e.text("Cancel")})),t.readAsDataURL(this.files[0])}))})),this.canvasBackground(this.currentStorageColor),this.pickbg("colorpicker").action("click",(()=>{Se(),Me(this.colorBoxBtn)})),C("optionInnerLayer").children([this.pickbg("backgroundContainer")])}}function Ee(e){return b({el:"pill-con-div",class:["col-6","d-flex","justify-content-center","align-items-center","py-1"],children:[b({el:"pill-btn-div",class:["btn","btn-sm",e.btncolor],text:e.text,build:(t,n)=>{p({el:{target:t},class:"btnPill"}),p({el:{target:t},class:"borderNone"}),p({el:{target:t},class:"f12"}),n.action("click",e.click)}})]})}class Oe extends Z{constructor(){super(),this.typeOptions=["Empty","Text 1","Text 2","Flat Text 1","Flat Text 2","Header","Line","Footer"],this.currentStorageColor=L.getCanvasBackground(),this.element=c(["colorpicker-div","cb-label-div-.btnBorderLight,h33,borderBot,rounded0","type-con-div-.h100,bgLight,flowY","type-inner-con-div-.row,m0,mt2","text-label-div-.btnBorderLight,h33,borderY,rounded0","text-inp-input-.btnBorderLight,h33,border2,tStart,mxauto,my2","height-label-div-.btnBorderLight,h33,borderY,rounded0","height-inp-input-.btnBorderLight,h33,border2,tStart,mxauto,my2","cb-container-div-.pdb2"]),this.element.colorpicker=Pe({color:"#000000"}),d(this.element,["typeCon = typeInnerCon","cbContainer = cbLabel,typeCon,textLabel,colorpicker,textInp,heightLabel,heightInp"]),this.pickcb=m(this.element),this.colorBoxBtn=xe.map((e=>b({el:"color-box-div",class:["btn"],build:(t,n)=>{n.action("click",(()=>{this.isCanvasBtn()||(this.updateComponent({textColor:e}),this.setColorTextPicker(e),this.response()),Le()})),Ie(n,e)}})))}setColorTextPicker(e){Be(this.pickcb("colorpicker"),e),Ne(this.pickcb("colorpicker"),e)}setContentInput(e){this.pickcb("textInp").target.value=e}setHeightInput(e){this.pickcb("heightInp").target.value=e}build(){this.refreshBuilder(),this.pickcb("cbLabel").modify((e=>{k({target:e,text:"Type",textBold:!0})})),this.pickcb("textLabel").modify((e=>{k({target:e,text:"Text",textBold:!0})})),this.pickcb("textInp").modify(((e,t)=>{e.type="text",e.placeholder="Content",t.style({width:"230px"}),t.action("keydown",(t=>{this.isCanvasBtn()||"Enter"!==t.code||(this.updateComponent({text:e.value}),this.response())}))})),this.pickcb("heightLabel").modify((e=>{k({target:e,text:"Height",textBold:!0})})),this.pickcb("heightInp").modify(((e,t)=>{e.type="text",e.placeholder="height",t.style({width:"230px"}),t.action("keydown",(t=>{this.isCanvasBtn()||"Enter"!==t.code||(this.updateComponent({height:e.value}),this.response())}))})),this.pickcb("colorpicker").action("click",(()=>{Se(),Me(this.colorBoxBtn)})),C("optionInnerLayer").children([this.pickcb("cbContainer")])}setTypeOption(e){this.pickcb("typeInnerCon")._children(),this.typeOptions.map((t=>{this.pickcb("typeInnerCon").children([Ee({btncolor:t===e?"btn-primary":"btn-light",text:t,click:()=>{this.isCanvasBtn()||(this.updateComponent({type:t}),this.setTypeOption(t),this.response())}})])}))}refreshBuilder(){const e=ee(J.getPageLayerData());this.isCanvasBtn()?(this.setColorTextPicker("#EF0D50"),this.setTypeOption(""),this.setContentInput("Can't be change"),this.setHeightInput("Can't be change")):(this.setColorTextPicker(e.textColor),this.setTypeOption(e.type),this.setContentInput(e.text),this.setHeightInput(e.height))}updateComponent(e){const t=function(e,t){return te(e,{data:Q(e).data.reduce(((e,n)=>(!0===n.isHighlight?(t.type&&(n.component.type=t.type),(t.text||""===t.text)&&(n.component.text=t.text),t.height&&(n.component.height=t.height),t.width&&(n.component.width=t.width),t.textColor&&(n.component.textColor=t.textColor),e.push(n)):e.push(n),e)),[])})}(J.getPageLayerData(),e);J.setPageLayerData(t)}isCanvasBtn(){return 0===ee(J.getPageLayerData()).length}}const{toPng:De,toCanvas:je}=n(559),He={toPng:De,toCanvas:je};let Ae=["btn","btn-sm","btn-light","bg-white","border","border-2","rounded","py-1","mx-1","fs-12","d-flex"],Re=(e,t,n,r)=>b({el:e,class:t,text:n,build:(e,t)=>{r&&t.action("click",r)}}),Fe=Re("download-image-a",["btn","btn-sm","btn-primary","py-1","mx-1","fs-12","d-flex","text-decoration-none"],"DOWNLOAD");class _e extends Z{constructor(){super(),this.pixelRatio=2,this.imageCanvasScaler=new de("renderInnerCenter"),this.build()}build(){this.imageCanvasScaler.setMinMax(10,300).setScalePercentMiddle().changeCanvas().listen((()=>{C("iconPercentLabel").text(this.imageCanvasScaler.getPercentage())})).build(),C("iconPercentLabel").text(this.imageCanvasScaler.getPercentage());let e=()=>{C("renderInnerCanvas")._children(),this.render()},t=()=>{this.hide(),L.val("htmlmode").storeToCanvasMode()};[{type:"0.5x",fun:()=>{this.pixelRatio=.5,e()}},{type:"2x",fun:()=>{this.pixelRatio=2,e()}},{type:"4x",fun:()=>{this.pixelRatio=4,e()}},{type:"9x",fun:()=>{this.pixelRatio=9,e()}}].map((e=>{C("renderController").children([Re("scale-btn-div",Ae,e.type,(()=>{e.fun()}))])}));let n=Re("image-close-div",Ae,"Close",(()=>{t()}));C("renderController").children([Fe,n])}show(){C("renderCanvas").target.classList.remove("d-none")}hide(){C("renderCanvas").class(["d-none"])}render(){var e,t;C("renderInnerCanvas")._children(),e=C("htmlInnerCanvas"),t=this.pixelRatio,He.toCanvas(e.target,{pixelRatio:t}).then((function(e){C("renderInnerCanvas").target.appendChild(e)})),((e,t,n)=>{He.toPng(e.target,{pixelRatio:t}).then((function(e){Fe.target.href=e,Fe.target.download=Q(J.getPageLayerData()).layerName}))})(C("htmlInnerCanvas"),this.pixelRatio)}scaleBackToNormal(){this.imageCanvasScaler.canvasReset(),C("iconPercentLabel").text(this.imageCanvasScaler.getPercentage())}enableMoveX(){this.imageCanvasScaler.horizontalMoveOn()}disableMoveX(){this.imageCanvasScaler.horizontalMoveOff()}enableMoveY(){this.imageCanvasScaler.verticalMoveOn()}disableMoveY(){this.imageCanvasScaler.verticalMoveOff()}disableMove(){this.disableMoveX(),this.disableMoveY()}scaleCanvasTo(e){this.imageCanvasScaler.scaleTo(e),C("iconPercentLabel").text(this.imageCanvasScaler.getPercentage())}}function $e(e){let t=0;const n=b({el:"message-con-div",class:["bg-dark","shadow-sm","my-2"],build:e=>{Object.assign(e.style,{width:"400px",height:"60px",overflow:"hidden",borderRadius:"7px",display:"flex",position:"fixed",bottom:"50px",left:"50%",transform:"translateX(-50%)",zIndex:9999})},children:[b({el:"message-list-div",class:["bg-dark","text-light","d-flex","align-items-center","justify-content-center","flex-fill"],children:[b({el:"message-inner-div",text:void 0===e.text?"":e.text})]}),b({el:"message-btn-div",class:["bg-dark","text-white"],children:[b({el:"message-inner-btn-div",children:[b({el:"message-cross-icon-i",class:void 0===e.icon?["bi","bi-x"]:e.icon})],build:e=>{Object.assign(e.style,{fontSize:"28px",gridColumnStart:1,gridColumnEnd:2,gridRowStart:1,gridRowEnd:2,zIndex:2,display:"grid",placeItems:"center"})}}),b({el:"message-inner-bg-i",class:["bg-primary"],build:e=>{Object.assign(e.style,{fontSize:"28px",width:"0px",gridColumnStart:1,gridColumnEnd:2,gridRowStart:1,gridRowEnd:2,zIndex:1})}})],build:e=>{Object.assign(e.style,{width:"60px",height:"60px",display:"grid"})}})]}),r=n.inner.messageBtn.inner.messageInnerBg.target,a=n.inner.messageBtn.inner.messageInnerBtn.target,o=setInterval((()=>{t+=1,61===t?(clearInterval(o),document.body.removeChild(n.target),void 0!==e.callback&&e.callback()):r.style.width=`${t}px`}),void 0===e.speed?50:e.speed);a.onclick=()=>{clearInterval(o),void 0!==e.callback&&e.callback(),document.body.removeChild(n.target)},document.body.appendChild(n.target)}const We=e=>{C("globalFileInput").modify(((t,n)=>{t.value="",t.click(),n.action("change",(function(){const t=new FileReader;let n=this.files[0];t.onload=()=>{(e=>{let t=e.name.split(".cop");if("application/json"===e.type&&!(t.length<2))return!0})(n)?(async(e,t)=>{let n=JSON.parse(e);L.val(n.projectName).storeToProjectName(),L.val(n.backgroundColor).storeToCanvasBackground(),await K(n.imageData),await U(n.pageLayerData),$e({text:"loading...",callback:()=>{0!==n.imageData.length&&C("htmlImage").style({backgroundImage:`url(${n.imageData})`}),C("headerFile").text(n.projectName),J.setPageLayerData(n.pageLayerData),t()},speed:20,icon:["bi","bi-arrow-right-short"]})})(t.result,e):$e({text:"File Error: Not copra file format"})},t.readAsText(n)}))}))},Ye=()=>{let e=JSON.stringify(J.getPageLayerData());U(JSON.parse(e)),$e({text:"App saved!"})};class qe extends Z{constructor(){super(),this.build()}build(){C("headerSaveBtn").modify((e=>{e.onclick=()=>{Ye()}})),C("headerLogo").text("CoPra").attr("type","button"),C("headerFile").text("file demo length length"),C("headerSaveBtn").text("save"),C("headerVersion").text("1.1.0v");const e=C("headerFileWarper");C("headerFile").modify(((t,n)=>{n.text(L.getProjectName()),t.addEventListener("dblclick",(()=>{const t=(n=L.getProjectName(),b({el:"header-file-input",class:["bg-dark","fs-12","text-center","text-light","outline-none","fw-bold"],build:(t,r)=>{r.attr("type","text"),t.value=n;const a=()=>{let n=t.value;C("headerFile").text(n),e._children(),e.children([C("headerFile")]),L.val(n).storeToProjectName()};t.onkeydown=e=>{"Enter"===e.code&&a()},t.onclick=e=>{e.target.select(),e.target.focus()},t.onblur=()=>{a()}}}));var n;e._children(),e.children([t]),setTimeout((()=>{t.target.select(),t.target.focus()}),100)}))}))}}function ze(e){var t;window.location.href=(t=e,"".concat(window.location.protocol).concat("//").concat(window.location.hostname).concat(":").concat(window.location.port).concat("/").concat(t))}function Ve(e){return window.addEventListener("keydown",e,!0),this}const Xe={disableContext:function(){return document.addEventListener("contextmenu",(e=>{e.preventDefault()}),!0),this},disableCtrlS:function(){return Ve((function(e){e.ctrlKey&&"KeyS"===e.code&&e.preventDefault()})),this},disableWheelScaling:function(){return document.getElementById("root").addEventListener("wheel",(function(e){e.ctrlKey&&e.preventDefault()}),!0),this},keyDown:Ve,keyUp:function(e){return window.addEventListener("keyup",e,!0),this}};function Ue(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ke(e){return e instanceof Ue(e).Element||e instanceof Element}function Ge(e){return e instanceof Ue(e).HTMLElement||e instanceof HTMLElement}function Je(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Ue(e).ShadowRoot||e instanceof ShadowRoot)}var Ze=Math.max,Qe=Math.min,et=Math.round;function tt(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function nt(){return!/^((?!chrome|android).)*safari/i.test(tt())}function rt(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),a=1,o=1;t&&Ge(e)&&(a=e.offsetWidth>0&&et(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&et(r.height)/e.offsetHeight||1);var i=(Ke(e)?Ue(e):window).visualViewport,s=!nt()&&n,l=(r.left+(s&&i?i.offsetLeft:0))/a,c=(r.top+(s&&i?i.offsetTop:0))/o,d=r.width/a,f=r.height/o;return{width:d,height:f,top:c,right:l+d,bottom:c+f,left:l,x:l,y:c}}function at(e){var t=Ue(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ot(e){return e?(e.nodeName||"").toLowerCase():null}function it(e){return((Ke(e)?e.ownerDocument:e.document)||window.document).documentElement}function st(e){return rt(it(e)).left+at(e).scrollLeft}function lt(e){return Ue(e).getComputedStyle(e)}function ct(e){var t=lt(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function dt(e,t,n){void 0===n&&(n=!1);var r,a,o=Ge(t),i=Ge(t)&&function(e){var t=e.getBoundingClientRect(),n=et(t.width)/e.offsetWidth||1,r=et(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=it(t),l=rt(e,i,n),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(o||!o&&!n)&&(("body"!==ot(t)||ct(s))&&(c=(r=t)!==Ue(r)&&Ge(r)?{scrollLeft:(a=r).scrollLeft,scrollTop:a.scrollTop}:at(r)),Ge(t)?((d=rt(t,!0)).x+=t.clientLeft,d.y+=t.clientTop):s&&(d.x=st(s))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function ft(e){var t=rt(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function ht(e){return"html"===ot(e)?e:e.assignedSlot||e.parentNode||(Je(e)?e.host:null)||it(e)}function ut(e){return["html","body","#document"].indexOf(ot(e))>=0?e.ownerDocument.body:Ge(e)&&ct(e)?e:ut(ht(e))}function pt(e,t){var n;void 0===t&&(t=[]);var r=ut(e),a=r===(null==(n=e.ownerDocument)?void 0:n.body),o=Ue(r),i=a?[o].concat(o.visualViewport||[],ct(r)?r:[]):r,s=t.concat(i);return a?s:s.concat(pt(ht(i)))}function gt(e){return["table","td","th"].indexOf(ot(e))>=0}function bt(e){return Ge(e)&&"fixed"!==lt(e).position?e.offsetParent:null}function vt(e){for(var t=Ue(e),n=bt(e);n&&gt(n)&&"static"===lt(n).position;)n=bt(n);return n&&("html"===ot(n)||"body"===ot(n)&&"static"===lt(n).position)?t:n||function(e){var t=/firefox/i.test(tt());if(/Trident/i.test(tt())&&Ge(e)&&"fixed"===lt(e).position)return null;var n=ht(e);for(Je(n)&&(n=n.host);Ge(n)&&["html","body"].indexOf(ot(n))<0;){var r=lt(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var mt="top",yt="bottom",wt="right",xt="left",kt="auto",Ct=[mt,yt,wt,xt],Lt="start",St="end",Pt="viewport",Bt="popper",Nt=Ct.reduce((function(e,t){return e.concat([t+"-"+Lt,t+"-"+St])}),[]),Mt=[].concat(Ct,[kt]).reduce((function(e,t){return e.concat([t,t+"-"+Lt,t+"-"+St])}),[]),It=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Tt(e){var t=new Map,n=new Set,r=[];function a(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&a(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||a(e)})),r}var Et={placement:"bottom",modifiers:[],strategy:"absolute"};function Ot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Dt(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,o=void 0===a?Et:a;return function(e,t,n){void 0===n&&(n=o);var a,i,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Et,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,d={state:s,setOptions:function(n){var a="function"==typeof n?n(s.options):n;f(),s.options=Object.assign({},o,s.options,a),s.scrollParents={reference:Ke(e)?pt(e):e.contextElement?pt(e.contextElement):[],popper:pt(t)};var i,c,h=function(e){var t=Tt(e);return It.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((i=[].concat(r,s.options.modifiers),c=i.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return s.orderedModifiers=h.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"==typeof a){var o=a({state:s,name:t,instance:d,options:r});l.push(o||function(){})}})),d.update()},forceUpdate:function(){if(!c){var e=s.elements,t=e.reference,n=e.popper;if(Ot(t,n)){s.rects={reference:dt(t,vt(n),"fixed"===s.options.strategy),popper:ft(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var a=s.orderedModifiers[r],o=a.fn,i=a.options,l=void 0===i?{}:i,f=a.name;"function"==typeof o&&(s=o({state:s,options:l,name:f,instance:d})||s)}else s.reset=!1,r=-1}}},update:(a=function(){return new Promise((function(e){d.forceUpdate(),e(s)}))},function(){return i||(i=new Promise((function(e){Promise.resolve().then((function(){i=void 0,e(a())}))}))),i}),destroy:function(){f(),c=!0}};if(!Ot(e,t))return d;function f(){l.forEach((function(e){return e()})),l=[]}return d.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}var jt={passive:!0};function Ht(e){return e.split("-")[0]}function At(e){return e.split("-")[1]}function Rt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ft(e){var t,n=e.reference,r=e.element,a=e.placement,o=a?Ht(a):null,i=a?At(a):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case mt:t={x:s,y:n.y-r.height};break;case yt:t={x:s,y:n.y+n.height};break;case wt:t={x:n.x+n.width,y:l};break;case xt:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?Rt(o):null;if(null!=c){var d="y"===c?"height":"width";switch(i){case Lt:t[c]=t[c]-(n[d]/2-r[d]/2);break;case St:t[c]=t[c]+(n[d]/2-r[d]/2)}}return t}var _t={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $t(e){var t,n=e.popper,r=e.popperRect,a=e.placement,o=e.variation,i=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,f=e.isFixed,h=i.x,u=void 0===h?0:h,p=i.y,g=void 0===p?0:p,b="function"==typeof d?d({x:u,y:g}):{x:u,y:g};u=b.x,g=b.y;var v=i.hasOwnProperty("x"),m=i.hasOwnProperty("y"),y=xt,w=mt,x=window;if(c){var k=vt(n),C="clientHeight",L="clientWidth";k===Ue(n)&&"static"!==lt(k=it(n)).position&&"absolute"===s&&(C="scrollHeight",L="scrollWidth"),(a===mt||(a===xt||a===wt)&&o===St)&&(w=yt,g-=(f&&k===x&&x.visualViewport?x.visualViewport.height:k[C])-r.height,g*=l?1:-1),a!==xt&&(a!==mt&&a!==yt||o!==St)||(y=wt,u-=(f&&k===x&&x.visualViewport?x.visualViewport.width:k[L])-r.width,u*=l?1:-1)}var S,P=Object.assign({position:s},c&&_t),B=!0===d?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:et(t*r)/r||0,y:et(n*r)/r||0}}({x:u,y:g}):{x:u,y:g};return u=B.x,g=B.y,l?Object.assign({},P,((S={})[w]=m?"0":"",S[y]=v?"0":"",S.transform=(x.devicePixelRatio||1)<=1?"translate("+u+"px, "+g+"px)":"translate3d("+u+"px, "+g+"px, 0)",S)):Object.assign({},P,((t={})[w]=m?g+"px":"",t[y]=v?u+"px":"",t.transform="",t))}var Wt={left:"right",right:"left",bottom:"top",top:"bottom"};function Yt(e){return e.replace(/left|right|bottom|top/g,(function(e){return Wt[e]}))}var qt={start:"end",end:"start"};function zt(e){return e.replace(/start|end/g,(function(e){return qt[e]}))}function Vt(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Je(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Xt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ut(e,t,n){return t===Pt?Xt(function(e,t){var n=Ue(e),r=it(e),a=n.visualViewport,o=r.clientWidth,i=r.clientHeight,s=0,l=0;if(a){o=a.width,i=a.height;var c=nt();(c||!c&&"fixed"===t)&&(s=a.offsetLeft,l=a.offsetTop)}return{width:o,height:i,x:s+st(e),y:l}}(e,n)):Ke(t)?function(e,t){var n=rt(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Xt(function(e){var t,n=it(e),r=at(e),a=null==(t=e.ownerDocument)?void 0:t.body,o=Ze(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),i=Ze(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),s=-r.scrollLeft+st(e),l=-r.scrollTop;return"rtl"===lt(a||n).direction&&(s+=Ze(n.clientWidth,a?a.clientWidth:0)-o),{width:o,height:i,x:s,y:l}}(it(e)))}function Kt(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Gt(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Jt(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=void 0===r?e.placement:r,o=n.strategy,i=void 0===o?e.strategy:o,s=n.boundary,l=void 0===s?"clippingParents":s,c=n.rootBoundary,d=void 0===c?Pt:c,f=n.elementContext,h=void 0===f?Bt:f,u=n.altBoundary,p=void 0!==u&&u,g=n.padding,b=void 0===g?0:g,v=Kt("number"!=typeof b?b:Gt(b,Ct)),m=h===Bt?"reference":Bt,y=e.rects.popper,w=e.elements[p?m:h],x=function(e,t,n,r){var a="clippingParents"===t?function(e){var t=pt(ht(e)),n=["absolute","fixed"].indexOf(lt(e).position)>=0&&Ge(e)?vt(e):e;return Ke(n)?t.filter((function(e){return Ke(e)&&Vt(e,n)&&"body"!==ot(e)})):[]}(e):[].concat(t),o=[].concat(a,[n]),i=o[0],s=o.reduce((function(t,n){var a=Ut(e,n,r);return t.top=Ze(a.top,t.top),t.right=Qe(a.right,t.right),t.bottom=Qe(a.bottom,t.bottom),t.left=Ze(a.left,t.left),t}),Ut(e,i,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}(Ke(w)?w:w.contextElement||it(e.elements.popper),l,d,i),k=rt(e.elements.reference),C=Ft({reference:k,element:y,strategy:"absolute",placement:a}),L=Xt(Object.assign({},y,C)),S=h===Bt?L:k,P={top:x.top-S.top+v.top,bottom:S.bottom-x.bottom+v.bottom,left:x.left-S.left+v.left,right:S.right-x.right+v.right},B=e.modifiersData.offset;if(h===Bt&&B){var N=B[a];Object.keys(P).forEach((function(e){var t=[wt,yt].indexOf(e)>=0?1:-1,n=[mt,yt].indexOf(e)>=0?"y":"x";P[e]+=N[n]*t}))}return P}function Zt(e,t,n){return Ze(e,Qe(t,n))}function Qt(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function en(e){return[mt,wt,yt,xt].some((function(t){return e[t]>=0}))}var tn=Dt({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,o=void 0===a||a,i=r.resize,s=void 0===i||i,l=Ue(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,jt)})),s&&l.addEventListener("resize",n.update,jt),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,jt)})),s&&l.removeEventListener("resize",n.update,jt)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Ft({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=void 0===r||r,o=n.adaptive,i=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,c={placement:Ht(t.placement),variation:At(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,$t(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,$t(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},a=t.elements[e];Ge(a)&&ot(a)&&(Object.assign(a.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],a=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Ge(r)&&ot(r)&&(Object.assign(r.style,o),Object.keys(a).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.offset,o=void 0===a?[0,0]:a,i=Mt.reduce((function(e,n){return e[n]=function(e,t,n){var r=Ht(e),a=[xt,mt].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,i=o[0],s=o[1];return i=i||0,s=(s||0)*a,[xt,wt].indexOf(r)>=0?{x:s,y:i}:{x:i,y:s}}(n,t.rects,o),e}),{}),s=i[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=i}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,o=void 0===a||a,i=n.altAxis,s=void 0===i||i,l=n.fallbackPlacements,c=n.padding,d=n.boundary,f=n.rootBoundary,h=n.altBoundary,u=n.flipVariations,p=void 0===u||u,g=n.allowedAutoPlacements,b=t.options.placement,v=Ht(b),m=l||(v!==b&&p?function(e){if(Ht(e)===kt)return[];var t=Yt(e);return[zt(e),t,zt(t)]}(b):[Yt(b)]),y=[b].concat(m).reduce((function(e,n){return e.concat(Ht(n)===kt?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=n.boundary,o=n.rootBoundary,i=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Mt:l,d=At(r),f=d?s?Nt:Nt.filter((function(e){return At(e)===d})):Ct,h=f.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=f);var u=h.reduce((function(t,n){return t[n]=Jt(e,{placement:n,boundary:a,rootBoundary:o,padding:i})[Ht(n)],t}),{});return Object.keys(u).sort((function(e,t){return u[e]-u[t]}))}(t,{placement:n,boundary:d,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:g}):n)}),[]),w=t.rects.reference,x=t.rects.popper,k=new Map,C=!0,L=y[0],S=0;S<y.length;S++){var P=y[S],B=Ht(P),N=At(P)===Lt,M=[mt,yt].indexOf(B)>=0,I=M?"width":"height",T=Jt(t,{placement:P,boundary:d,rootBoundary:f,altBoundary:h,padding:c}),E=M?N?wt:xt:N?yt:mt;w[I]>x[I]&&(E=Yt(E));var O=Yt(E),D=[];if(o&&D.push(T[B]<=0),s&&D.push(T[E]<=0,T[O]<=0),D.every((function(e){return e}))){L=P,C=!1;break}k.set(P,D)}if(C)for(var j=function(e){var t=y.find((function(t){var n=k.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return L=t,"break"},H=p?3:1;H>0&&"break"!==j(H);H--);t.placement!==L&&(t.modifiersData[r]._skip=!0,t.placement=L,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,o=void 0===a||a,i=n.altAxis,s=void 0!==i&&i,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,f=n.padding,h=n.tether,u=void 0===h||h,p=n.tetherOffset,g=void 0===p?0:p,b=Jt(t,{boundary:l,rootBoundary:c,padding:f,altBoundary:d}),v=Ht(t.placement),m=At(t.placement),y=!m,w=Rt(v),x="x"===w?"y":"x",k=t.modifiersData.popperOffsets,C=t.rects.reference,L=t.rects.popper,S="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,P="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),B=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(k){if(o){var M,I="y"===w?mt:xt,T="y"===w?yt:wt,E="y"===w?"height":"width",O=k[w],D=O+b[I],j=O-b[T],H=u?-L[E]/2:0,A=m===Lt?C[E]:L[E],R=m===Lt?-L[E]:-C[E],F=t.elements.arrow,_=u&&F?ft(F):{width:0,height:0},$=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},W=$[I],Y=$[T],q=Zt(0,C[E],_[E]),z=y?C[E]/2-H-q-W-P.mainAxis:A-q-W-P.mainAxis,V=y?-C[E]/2+H+q+Y+P.mainAxis:R+q+Y+P.mainAxis,X=t.elements.arrow&&vt(t.elements.arrow),U=X?"y"===w?X.clientTop||0:X.clientLeft||0:0,K=null!=(M=null==B?void 0:B[w])?M:0,G=O+V-K,J=Zt(u?Qe(D,O+z-K-U):D,O,u?Ze(j,G):j);k[w]=J,N[w]=J-O}if(s){var Z,Q="x"===w?mt:xt,ee="x"===w?yt:wt,te=k[x],ne="y"===x?"height":"width",re=te+b[Q],ae=te-b[ee],oe=-1!==[mt,xt].indexOf(v),ie=null!=(Z=null==B?void 0:B[x])?Z:0,se=oe?re:te-C[ne]-L[ne]-ie+P.altAxis,le=oe?te+C[ne]+L[ne]-ie-P.altAxis:ae,ce=u&&oe?function(e,t,n){var r=Zt(e,t,n);return r>n?n:r}(se,te,le):Zt(u?se:re,te,u?le:ae);k[x]=ce,N[x]=ce-te}t.modifiersData[r]=N}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,a=e.options,o=n.elements.arrow,i=n.modifiersData.popperOffsets,s=Ht(n.placement),l=Rt(s),c=[xt,wt].indexOf(s)>=0?"height":"width";if(o&&i){var d=function(e,t){return Kt("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Gt(e,Ct))}(a.padding,n),f=ft(o),h="y"===l?mt:xt,u="y"===l?yt:wt,p=n.rects.reference[c]+n.rects.reference[l]-i[l]-n.rects.popper[c],g=i[l]-n.rects.reference[l],b=vt(o),v=b?"y"===l?b.clientHeight||0:b.clientWidth||0:0,m=p/2-g/2,y=d[h],w=v-f[c]-d[u],x=v/2-f[c]/2+m,k=Zt(y,x,w),C=l;n.modifiersData[r]=((t={})[C]=k,t.centerOffset=k-x,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&Vt(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,o=t.modifiersData.preventOverflow,i=Jt(t,{elementContext:"reference"}),s=Jt(t,{altBoundary:!0}),l=Qt(i,r),c=Qt(s,a,o),d=en(l),f=en(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}}]});class nn extends Z{constructor(){super(),this.offsetValue=[],this.listIcon=[],this.btnLabelEl=null}set(e){return this.setState(e),this}setListIconStyle(e){return this.listIcon=e,this}getBtnLabel(){return this.btnLabelEl}offset(e){return this.offsetValue=e,this}build(){const e=tn(this.getHost().btn,this.getHost().box,{modifiers:[{name:"offset",options:{offset:this.offsetValue}}]});let t=!1;this.getHost().btn.onclick=()=>{t=!t,t?(e.update(),this.getHost().box.style.display="block"):(e.update(),this.getHost().box.style.display="none")},this.getHost().box.onmouseleave=()=>{t=!1,this.getHost().box.style.display="none"},this.state.map((e=>{const t=b({el:"list-div",class:["d-flex","fs-12","btn","btn-dark","justify-content-left"],build:t=>{k({target:t,iconstart:this.listIcon,text:e.listName}),t.onclick=()=>{e.fun(),this.getHost().box.style.display="none"}}});this.getHost().box.appendChild(t.target)}))}}class rn{constructor(){this.offset=[0,15],this.rationTooltip=new nn,this.imageTooltip=new nn,this.fileTooltip=new nn,this.scalarTooltip=new nn,this.build()}build(){C("controllerFileBtn").modify((e=>{k({target:e,iconstart:["bi","bi-file-earmark-text-fill"],dropdown:!0,iconStartExpand:!0})})),C("controllerImageBtn").modify((e=>{k({target:e,iconstart:["bi","bi-file-image-fill"],dropdown:!0,iconStartExpand:!0})})),C("controllerScalePercentBtn").modify((e=>{const[t]=k({target:e,text:"100%",dropdown:!0});g({name:"iconPercentLabel",el:t})})),C("controllerRatioBtn").modify((e=>{k({target:e,iconstart:["bi","bi-aspect-ratio-fill"],dropdown:!0,iconStartExpand:!0})})),C("controllerCanvasCenterButton").modify((e=>{k({target:e,iconstart:["bi","bi-align-center"]})})),C("controllerCanvasScrollYButton").modify((e=>{const[t]=k({target:e,iconstart:["bi","bi-arrows-expand"],text:"N"});g({name:"iconScrollY",el:t})})),C("controllerCanvasScrollXButton").modify((e=>{const[t]=k({target:e,iconstart:["bi","bi-arrows-expand","rotate-90"],text:"N"});g({name:"iconScrollX",el:t})})),this.rationTooltip.setHost({btn:C("controllerRatioBtn").target,box:C("controllerRatioBox").target}).setListIconStyle(["bi","bi-star-fill"]).offset(this.offset),this.imageTooltip.setHost({btn:C("controllerImageBtn").target,box:C("controllerImageBox").target}).setListIconStyle(["bi","bi-list"]).offset(this.offset),this.fileTooltip.setHost({btn:C("controllerFileBtn").target,box:C("controllerFileBox").target}).setListIconStyle(["bi","bi-list"]).offset(this.offset),this.scalarTooltip.setHost({btn:C("controllerScalePercentBtn").target,box:C("controllerScalePercentBox").target}).setListIconStyle(["bi","bi-zoom-in"]).offset(this.offset)}setFileList(e){this.fileTooltip.set(e).build()}setImageList(e){this.imageTooltip.set(e).build()}setScalarList(e){this.scalarTooltip.set(e).build()}setRatioList(e){this.rationTooltip.set(e).build()}}const an=function(){const e=new qe,t=new rn,n=new se,r=new le,a=new ge,o=new Te,i=new Oe,s=new _e;function l(e){pe()?a.scaleCanvasTo(e):s.scaleCanvasTo(e)}return v("coreComponent").children([Ce("colorpickerContainer")]),Xe.disableContext().disableCtrlS().disableWheelScaling(),e.build(),n.listen((()=>{a.updateTitle(),a.render(),r.render(),i.refreshBuilder()})),r.listen((()=>{a.render(),i.refreshBuilder()})),a.listen((()=>{r.render(),i.refreshBuilder()})),o.build(),i.build(),i.listen((()=>{a.render(),a.render(),r.render()})),C("controllerCanvasCenterButton").modify((e=>{e.onclick=()=>{pe()?a.scaleBackToNormal():s.scaleBackToNormal()}})),C("controllerCanvasScrollYButton").modify((e=>{let t=!1;e.onclick=()=>{t=!t,t?(a.enableMoveY(),C("iconScrollY").text("Y")):(a.disableMoveY(),C("iconScrollY").text("N"))}})),C("controllerCanvasScrollXButton").modify((e=>{let t=!1;e.onclick=()=>{t=!t,t?(a.enableMoveX(),C("iconScrollX").text("X")):(a.disableMoveX(),C("iconScrollX").text("N"))}})),t.setScalarList([{listName:"Zoom out",fun:()=>{l(.5)}},{listName:"Zoom to fit",fun:()=>{l(2)}},{listName:"Zoom in",fun:()=>{l(3)}},{listName:"Scale to 50%",fun:()=>{l(.5)}},{listName:"Zoom to 100%",fun:()=>{l(1)}}]),t.setRatioList([{listName:"aspect-1:1",fun:()=>{he("aspect-1:1"),ue()}},{listName:"aspect-9:16",fun:()=>{he("aspect-9:16"),ue()}},{listName:"aspect-16:9",fun:()=>{he("aspect-16:9"),ue()}}]),t.setImageList([{listName:"Render",fun:()=>{L.val("imagemode").storeToCanvasMode(),s.show(),a.clearSelect(),a.canvasHighlightOff(),r.render(),a.render(),s.render()}}]),t.setFileList([{listName:"Save",fun:()=>{Ye()}},{listName:"Save as cop file",fun:()=>{C("globalDownloadLink").modify((async e=>{e.value="",await U(J.getPageLayerData());const t=(n=await(async()=>{const e=await X(),t=await V();return{projectName:L.getProjectName(),backgroundColor:L.getCanvasBackground(),imageData:e,pageLayerData:t}})(),"data:text/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(n))));var n;e.href=t,e.download=L.getProjectName().concat(".cop.json"),$e({text:"Working on download...",callback:()=>{e.click()},icon:["bi","bi-arrow-right-short"]})}))}},{listName:"Import cop file",fun:()=>{We((()=>{n.render(),r.render(),a.render(),i.refreshBuilder()}))}},{listName:"Clear Project",fun:()=>{J.resetApp(),$e({text:"Cleared, Exiting...",callback:()=>{ze("")},speed:30,icon:["bi","bi-arrow-right-short"]})}},{listName:"Exit",fun:()=>{$e({text:"Exiting...",callback:()=>{ze("")},speed:30,icon:["bi","bi-arrow-right-short"]})}}]),Xe.keyDown((e=>{e.shiftKey&&"KeyZ"===e.code&&(pe()?a.scaleBackToNormal():s.scaleBackToNormal()),e.shiftKey&&"KeyC"===e.code&&(C("iconScrollY").text("Y"),a.enableMoveY(),s.enableMoveY()),e.shiftKey&&"KeyX"===e.code&&(C("iconScrollX").text("X"),a.enableMoveX(),s.enableMoveX()),e.ctrlKey&&"KeyS"===e.code&&Ye()})),Xe.keyUp((e=>{e.shiftKey&&(C("iconScrollY").text("N"),C("iconScrollX").text("N"),a.disableMove(),s.disableMove())})),b({pick:C("coreComponent"),children:[C("headerNav"),C("controller"),C("layer"),C("option"),C("renderCanvas"),C("renderAllScene"),C("htmlCanvas"),C("controllerRatioBox"),C("controllerFileBox"),C("controllerImageBox"),C("controllerScalePercentBox"),C("globalDownloadLink"),C("globalFileInput")]})};V().then((async e=>{await new Promise((t=>{J.setPageLayerData(e),setTimeout(t,1)})),await new Promise((e=>{l({child:an(),clean:!1}),setTimeout(e,1)}))}))})()})();